# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  DI_2:
    Properties:
      Fill: =EsquemaDeCores.AzulBackground.Cor
      LoadingSpinnerColor: =RGBA(45, 65, 93, 1)
      OnVisible: |-
        =// Carrega todas as opções de empresa
        ClearCollect(
            colEmpresaFiltroSolicitanteDI,
            SortByColumns(
                Distinct(
                    db_tickets_dev,
                    Tk_Empresa_Solicitante
                ),
                "Value",
                SortOrder.Ascending
            )
        );
        // Carrega todas as opções de chamados
        ClearCollect(
            ColChamadosDI,
            SortByColumns(
                Distinct(
                    db_tickets_dev,
                    Tk_Tipo_Ticket
                ),
                "Value",
                SortOrder.Ascending
            )
        );
        // Carrega todas as opções do campo Choice e resolve o Nome no M365 uma única vez
        ClearCollect(
            colAtendentesDI,
            SortByColumns(
                AddColumns(
                    Choices(db_tickets_dev.Tk_Atendente),
                    Atendente,
                    UsuáriosdoOffice365.UserProfileV2(Value).displayName
                ),
                "Atendente",
                SortOrder.Ascending
            )
        )
    Children:
      - sigd_ctn_geral_28:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Group: sigd_layout_28
          Properties:
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            Fill: =EsquemaDeCores.AzulConteiner.Cor
            Height: =sigd_bonin_cabecalho_28.ReferênciaContêiner.Height
            RadiusBottomLeft: =sigd_bonin_cabecalho_28.ReferênciaContêiner.Raio
            RadiusBottomRight: =sigd_bonin_cabecalho_28.ReferênciaContêiner.Raio
            RadiusTopLeft: =sigd_bonin_cabecalho_28.ReferênciaContêiner.Raio
            RadiusTopRight: =sigd_bonin_cabecalho_28.ReferênciaContêiner.Raio
            Width: =sigd_bonin_cabecalho_28.ReferênciaContêiner.Width
            X: =sigd_bonin_cabecalho_28.ReferênciaContêiner.X
            Y: =sigd_bonin_cabecalho_28.ReferênciaContêiner.Y
          Children:
            - Container29_1:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  BorderStyle: =BorderStyle.None
                  DropShadow: =DropShadow.None
                  Height: =Parent.Height
                  LayoutDirection: =LayoutDirection.Vertical
                  RadiusBottomLeft: =0
                  RadiusBottomRight: =0
                  RadiusTopLeft: =0
                  RadiusTopRight: =0
                  Width: =Parent.Width
                Children:
                  - Container33_3:
                      Control: GroupContainer@1.3.0
                      Variant: ManualLayout
                      Properties:
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        Height: =50
                        RadiusBottomLeft: =Medidas.Raio
                        RadiusBottomRight: =Medidas.Raio
                        RadiusTopLeft: =Medidas.Raio
                        RadiusTopRight: =Medidas.Raio
                        Visible: =!info_chamados
                      Children:
                        - sigd_ctn_geral_RH_1_6:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              BorderColor: =RGBA(0, 0, 0, 0)
                              BorderStyle: =BorderStyle.None
                              DropShadow: =DropShadow.None
                              Height: =30
                              LayoutAlignItems: =LayoutAlignItems.Center
                              LayoutDirection: =LayoutDirection.Horizontal
                              LayoutGap: =Medidas.Espacamento*2
                              PaddingLeft: =10
                              PaddingRight: =10
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                              Width: =Parent.Width - Self.X * 2
                              Y: =10
                            Children:
                              - TextInput1_2:
                                  Control: Classic/TextInput@2.3.2
                                  Properties:
                                    BorderStyle: =BorderStyle.None
                                    BorderThickness: =0
                                    Clear: =true
                                    Default: =
                                    FillPortions: =1
                                    Height: =30
                                    HintText: |-
                                      ="🔎 Digite o nome do solicitante para filtrar"
                                    LayoutMinWidth: =100
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    Size: =11
                                    X: =40
                              - Container23_7:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    AlignInContainer: =AlignInContainer.Center
                                    BorderStyle: =BorderStyle.None
                                    DropShadow: =DropShadow.None
                                    Height: =30
                                    LayoutMinWidth: =100
                                    RadiusBottomLeft: =5
                                    RadiusBottomRight: =5
                                    RadiusTopLeft: =5
                                    RadiusTopRight: =5
                                  Children:
                                    - cmb_RH_1_3_11:
                                        Control: Classic/ComboBox@2.4.0
                                        Properties:
                                          BorderColor: =
                                          BorderStyle: =BorderStyle.None
                                          BorderThickness: =0
                                          DisplayFields: =["nome"]
                                          FocusedBorderThickness: =1
                                          Height: =Parent.Height
                                          InputTextPlaceholder: |
                                            ="Selecione o atendente"
                                          Items: =colAtendentesDI
                                          SearchFields: =["Value"]
                                          SelectMultiple: =false
                                          Size: =11
                                          Width: =Parent.Width
                              - Container23_5:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    AlignInContainer: =AlignInContainer.Center
                                    BorderStyle: =BorderStyle.None
                                    DropShadow: =DropShadow.None
                                    Height: =30
                                    RadiusBottomLeft: =5
                                    RadiusBottomRight: =5
                                    RadiusTopLeft: =5
                                    RadiusTopRight: =5
                                  Children:
                                    - cmb_RH_1_3_6:
                                        Control: Classic/ComboBox@2.4.0
                                        Properties:
                                          BorderColor: =
                                          BorderStyle: =
                                          BorderThickness: =0
                                          DisplayFields: =["Value"]
                                          FocusedBorderThickness: =1
                                          Height: =Parent.Height
                                          InputTextPlaceholder: ="Selecione a empresa"
                                          Items: =colEmpresaFiltroSolicitanteDI
                                          SearchFields: =["Value"]
                                          SelectMultiple: =false
                                          Size: =11
                                          Width: =Parent.Width
                              - Container23_6:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    AlignInContainer: =AlignInContainer.Center
                                    BorderStyle: =BorderStyle.None
                                    DropShadow: =DropShadow.None
                                    Height: =30
                                    RadiusBottomLeft: =5
                                    RadiusBottomRight: =5
                                    RadiusTopLeft: =5
                                    RadiusTopRight: =5
                                  Children:
                                    - cmb_RH_1_3_7:
                                        Control: Classic/ComboBox@2.4.0
                                        Properties:
                                          BorderColor: =
                                          BorderStyle: =BorderStyle.None
                                          BorderThickness: =0
                                          DisplayFields: =["Value"]
                                          FocusedBorderThickness: =1
                                          Height: =Parent.Height
                                          InputTextPlaceholder: ="Selecione o tipo de requisição"
                                          Items: =ColChamadosDI
                                          SearchFields: =["Value"]
                                          SelectMultiple: =false
                                          Size: =11
                                          Width: =Parent.Width
                              - Container23_8:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    AlignInContainer: =AlignInContainer.Center
                                    BorderStyle: =BorderStyle.None
                                    DropShadow: =DropShadow.None
                                    FillPortions: =2
                                    Height: =30
                                    RadiusBottomLeft: =5
                                    RadiusBottomRight: =5
                                    RadiusTopLeft: =5
                                    RadiusTopRight: =5
                                  Children:
                                    - HtmlText13:
                                        Control: HtmlViewer@2.1.0
                                        Properties:
                                          AutoHeight: =true
                                          Height: =Parent.Height
                                          HtmlText: |
                                            =With(
                                              {
                                                // Base sem a coluna complexa (se precisar)
                                                _baseDs: DropColumns(db_tickets_dev, 'Criado por')},

                                                // Filtros comuns (empresa, tipo, atendente)
                                                With({
                                                _base:
                                                  Filter(
                                                    _baseDs,
                                                    (IsBlank(cmb_RH_1_3_6.Selected.Value)  || Tk_Empresa_Solicitante = cmb_RH_1_3_6.Selected.Value),
                                                    (IsBlank(cmb_RH_1_3_7.Selected.Value)  || Tk_Tipo_Ticket        = cmb_RH_1_3_7.Selected.Value),
                                                    (IsBlank(cmb_RH_1_3_11.Selected.Value) || Tk_Atendente.Value    = cmb_RH_1_3_11.Selected.Value)
                                                  )},

                                                // Pesquisa por nome (uma vez só)
                                                With({
                                                _src: Search(_base, TextInput1_2.Text, Tk_Nome_Solicitante)},
                                                With({
                                                // Contadores por status  (se for Choice: use Tk_Status_Ticket.Value)
                                                _cAberto:      CountIf(_src, Tk_Status_Ticket = "Aberto"),
                                                _cIniciado:    CountIf(_src, Tk_Status_Ticket = "Iniciado"),
                                                _cAndamento:   CountIf(_src, Tk_Status_Ticket = "Em Andamento"),
                                                _cSuspensao:   CountIf(_src, Tk_Status_Ticket = "Suspensão"),
                                                _cCancelado:   CountIf(_src, Tk_Status_Ticket = "Cancelado"),
                                                _cConcluido:   CountIf(_src, Tk_Status_Ticket = "Concluído")},
                                                With({
                                                // Tabela para renderizar as 4 colunas de forma compacta
                                                _cards: Table(
                                                  { lbl:"Aberto",        val:_cAberto      },
                                                  { lbl:"Iniciado",      val:_cIniciado    },
                                                  { lbl:"Em Andamento",  val:_cAndamento   },
                                                  { lbl:"Suspensão",     val:_cSuspensao   },
                                                  { lbl:"Concluído",     val:_cConcluido   }
                                                )
                                              },

                                              "<div style='
                                                background:#fff;
                                                border:1px solid #e5e7eb;
                                                border-radius:5px;
                                                font-size:11px;
                                                color:#111;
                                              '>
                                                <table style='width:100%;height:" & (sigd_ctn_geral_RH_1_6.Height) & "px;border-collapse:collapse;table-layout:fixed;'>
                                                  <tr>" &
                                                    Concat(
                                                      _cards,
                                                      "<td style=""width:25%;vertical-align:middle;"">
                                                         <div style=""display:flex;align-items:center;justify-content:center;gap:6px;"">
                                                           <span style=""font-weight:600;color:#374151;"">" & lbl & "</span>
                                                           <span style=""font-size:13px;font-weight:700;"">" & Text(val) & "</span>
                                                         </div>
                                                       </td>"
                                                    ) &
                                                  "</tr>
                                                </table>
                                              </div>"
                                            )))))
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Width: =Parent.Width
                  - Container35_3:
                      Control: GroupContainer@1.3.0
                      Variant: ManualLayout
                      Properties:
                        DropShadow: =DropShadow.None
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                      Children:
                        - galPortKanban_5:
                            Control: Gallery@2.15.0
                            Variant: Horizontal
                            Properties:
                              BorderColor: =RGBA(0, 0, 0, 0)
                              Height: =Parent.Height - Self.Y * 2
                              Items: =db_tipo_evento
                              TemplateFill: =Color.Transparent
                              TemplateSize: |-
                                =If(
                                    CountRows(Self.AllItems) = 0,
                                    0, // Valor padrão ou substituto para evitar divisão por zero
                                    Parent.Width / CountRows(Self.AllItems) - 6
                                )
                              Width: =Parent.Width - Self.X * 2
                            Children:
                              - Gallery1:
                                  Control: Gallery@2.15.0
                                  Variant: VariableHeight
                                  Properties:
                                    Height: =Parent.Height - Self.Y - 10
                                    Items: |-
                                      =With({Base:
                                      Search(
                                          Filter(
                                              DropColumns(db_tickets_dev, 'Criado por'),
                                              Tk_Status_Ticket = ThisItem.Status,
                                              (IsBlank(cmb_RH_1_3_6.Selected.Value) || Tk_Empresa_Solicitante = cmb_RH_1_3_6.Selected.Value),
                                              (IsBlank(cmb_RH_1_3_7.Selected.Value) || Tk_Tipo_Ticket = cmb_RH_1_3_7.Selected.Value),
                                              (IsBlank(cmb_RH_1_3_11.Selected.Value) || Tk_Atendente.Value = cmb_RH_1_3_11.Selected.Value)
                                          ),
                                          TextInput1_2.Text,
                                          Tk_Nome_Solicitante
                                      )},
                                      Table(
                                          SortByColumns(
                                              Filter(Base, Tk_Status_Ticket = "Concluído" || Tk_Status_Ticket = "Cancelado"),
                                                  "Data_Abertura", SortOrder.Descending
                                          ),
                                          SortByColumns(
                                              Filter(Base, !(Tk_Status_Ticket = "Concluído") || !(Tk_Status_Ticket = "Cancelado")),
                                                  "Data_Abertura", SortOrder.Ascending
                                          )
                                      ))
                                    ShowScrollbar: =false
                                    TemplatePadding: =0
                                    TemplateSize: =120
                                    Width: =Parent.TemplateWidth
                                    Y: =HtmlText11_1.Y + HtmlText11_1.Height
                                  Children:
                                    - HtmlText1_5:
                                        Control: HtmlViewer@2.1.0
                                        Properties:
                                          AutoHeight: =true
                                          Height: =120
                                          HtmlText: |
                                            =With(
                                              {
                                                corLateral: EsquemaDeCores.AzulEscuroBonin.Texto,
                                                corFundo: "#FFFFFF",
                                                corTexto: "#222222",
                                                sombra: "rgba(0,0,0,0.10)",
                                                solicitante: ThisItem.Tk_Nome_Solicitante,
                                                email_solicitante: ThisItem.Tk_Email_Solicitante,
                                                empresa: ThisItem.Tk_Empresa_Solicitante,
                                                tipo_ticket: ThisItem.Tk_Tipo_Ticket,
                                                data_solicitacao: Text(ThisItem.Tk_Data_Abertura, "dd/mm/yyyy"),
                                                observacao: Substitute(ThisItem.Tk_Descricao_Ocorrencia, "<p>&#160;</p>",""),
                                                data_previsao_conclusao: Text(LookUp(db_eventos_dev, Tk_TicketID = ThisItem.Tk_Ticket && Tk_Tipo_Evento.Value = "Abertura do Ticket", Tk_Data_Termino_Evento), "dd/mm/yyyy"),
                                                status: ThisItem.Tk_Status_Ticket,
                                                executor_nome: If(
                                                  !IsBlank(ThisItem.Tk_Atendente.Value),
                                                  UsuáriosdoOffice365.UserProfileV2(ThisItem.Tk_Atendente.Value).displayName,
                                                  ""
                                                ),
                                                executor_foto: If(
                                                  IsBlank(ThisItem.Tk_Atendente.Value),
                                                  UsuáriosdoOffice365.UserPhoto("sistemas@bonin.eng.br"),
                                                  UsuáriosdoOffice365.UserPhoto(ThisItem.Tk_Atendente.Value)
                                                )
                                              },
                                              "
                                            <div style='display:flex; flex-direction:column; height:100%;background: " & corFundo & "; border: 3px solid " & corLateral & "; border-radius: 10px; overflow: hidden;margin-left:3px;margin-right:3px; margin-bottom:3px; /* separa os cards */'>

                                              <!-- Conteúdo -->
                                              <div style='flex-grow:1; padding: 10px; display: flex; flex-direction: column; gap: 4px; width: 100%; box-sizing: border-box;'>

                                                <!-- Badge do tipo de ticket -->
                                                <div style='
                                                  min-height: 20px;
                                                  width: 100%;
                                                  display: flex;
                                                  justify-content: center;
                                                  align-items: center;
                                                '>
                                                  <div style='
                                                    background: " & corLateral & ";
                                                    color: #fff;
                                                    font-size: 12px;
                                                    font-weight: bold;
                                                    border-radius: 6px;
                                                    padding: 2px 12px;
                                                    letter-spacing: 0.5px; 
                                                    box-shadow: 1px 1px 4px " & corLateral & "22;
                                                  '>" & tipo_ticket & "</div>
                                                </div>

                                                <!-- Informações do chamado -->
                                                <div style='font-weight: bold; font-size: 12px;'>" & solicitante & "</div>
                                                <div style='font-size: 11px;'><strong>E-mail Solicitante:</strong> " & email_solicitante & "</div>
                                                <div style='font-size: 11px;'><strong>Empresa:</strong> " & empresa & "</div>
                                                <div style='font-size: 11px;'><strong>Solicitado em:</strong> " & data_solicitacao & "</div>
                                                <div style='font-size: 11px;'><strong>Observação:</strong> " & observacao & "</div>
                                                <div style='font-size: 11px;'><strong>Previsão de Conclusão:</strong> " & data_previsao_conclusao & "</div>

                                              </div>

                                              <!-- Rodapé com executor ocupando toda largura -->
                                              <div style='
                                                  display: flex;
                                                  justify-content: flex-start;
                                                  align-items: center;
                                                  width: 100%;
                                                  padding: 10px 12px;
                                                  background-color: #f5f5f5;
                                                  border-top: 1px solid #e0e0e0;
                                              '>
                                                  <!-- Foto do executor -->
                                                  <div style='
                                                      width: 48px;
                                                      height: 48px;
                                                      min-width: 48px;
                                                      border-radius: 50%;
                                                      overflow: hidden;
                                                      border: 1px solid #ccc;
                                                      margin-right: 12px;
                                                  '>
                                                      <img src='" & executor_foto & "' style='width: 48px; height: 48px; object-fit: cover;' />
                                                  </div>

                                                  <!-- Nome do executor -->
                                                  <div style='
                                                      font-size: 12px;
                                                      font-weight: bold;
                                                      white-space: nowrap;
                                                      overflow: hidden;
                                                      text-overflow: ellipsis;
                                                      flex-grow: 1;
                                                  '>" & executor_nome & "</div>
                                              </div>

                                            </div>
                                            "
                                            )
                                          OnSelect: =Select(Parent)
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Width: =Parent.Width
                                    - Button1_3:
                                        Control: Classic/Button@2.2.0
                                        Properties:
                                          BorderColor: =
                                          BorderThickness: =0
                                          Color: =
                                          DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                          DisabledColor: =RGBA(0, 0, 0, 0)
                                          DisabledFill: =RGBA(0, 0, 0, 0)
                                          Fill: =RGBA(0, 0, 0, 0)
                                          FocusedBorderThickness: =1
                                          Height: =HtmlText1_5.Height
                                          HoverBorderColor: =
                                          HoverColor: =
                                          HoverFill: =
                                          OnSelect: |-
                                            =UpdateContext(
                                                {
                                                    info_chamados: true,
                                                    AtualizacaoHistorico: false,
                                                    loc_InfoTicket_dev: LookUp(db_tickets_dev,Tk_Ticket = ThisItem.Ticket)
                                                }
                                            );
                                            With(
                                                {Consulta_Tk_Tipo_Ticket: loc_InfoTicket_dev.Tk_Tipo_Ticket},
                                                Set(Requisicao, loc_InfoTicket_dev.Tk_Tipo_Ticket);
                                                Set(Tipo_Requisicao,
                                                    Switch(
                                                        Consulta_Tk_Tipo_Ticket,
                                                        "CONSULTA TÉCNICA DE DESENVOLVIMENTO",           "CTD",
                                                        "REQUISIÇÃO DE AJUSTE E MELHORIA",               "RAM",
                                                        "REQUISIÇÃO DE CREDENCIAMENTO EM APLICATIVO",    "RCA",
                                                        "REQUISIÇÃO DE DESENVOLVIMENTO DE APLICATIVO",   "RDA",
                                                        "REQUISIÇÃO DE DESENVOLVIMENTO DE BI",           "RDB",
                                                        "REQUISIÇÃO DE ESCLARECIMENTO TÉCNICO",          "RET",
                                                        "REQUISIÇÃO DE IMPLEMENTAÇÃO DE AUTOMAÇÃO",      "RIA"
                                                    )
                                                )
                                            )
                                          PressedBorderColor: =
                                          PressedColor: =
                                          PressedFill: =
                                          TabIndex: =1
                                          Text: =
                                          Width: =Parent.Width - Self.X * 2
                                          X: =5
                                    - Icon2:
                                        Control: Classic/Icon@2.5.0
                                        Properties:
                                          BorderColor: =App.Theme.Colors.Darker30
                                          Color: =RGBA(0, 0, 0, 1)
                                          Height: =34
                                          Icon: =Icon.Erase
                                          OnSelect: |-
                                            =UpdateContext({varDeletar: ThisItem});
                                            UpdateContext({VarCnDeletar: true})
                                          Width: =24
                                          X: |+
                                            =Parent.TemplateWidth - Self.Width - 20
                                          Y: |+
                                            =HtmlText1_5.Height - Self.Height - 23
                                    - Image1_2:
                                        Control: Image@2.2.3
                                        Properties:
                                          BorderColor: =App.Theme.Colors.Darker30
                                          Height: =48
                                          Image: |-
                                            =If(ThisItem.Tk_Atendente.Value = Blank(),
                                            UsuáriosdoOffice365.UserPhoto("sistemas@bonin.eng.br"),
                                            UsuáriosdoOffice365.UserPhoto(ThisItem.Tk_Atendente.Value))
                                          RadiusBottomLeft: =50
                                          RadiusBottomRight: =50
                                          RadiusTopLeft: =50
                                          RadiusTopRight: =50
                                          Width: =48
                                          X: =19
                                          Y: |+
                                            =HtmlText1_5.Height - Self.Height - 19
                              - HtmlText11_1:
                                  Control: HtmlViewer@2.1.0
                                  Properties:
                                    AutoHeight: =true
                                    HtmlText: |
                                      =With(
                                          {
                                              corPrincipal: "white",
                                              corSecundaria: "rgba(0,0,0,0.08)",
                                              corTexto: "#222",
                                              corSombra: "rgba(0,0,0,0.08)",
                                              corNeutra: "#6b7280",

                                              tituloGaleria: Upper(ThisItem.Tipo_Evento),
                                              subtituloGaleria: ThisItem.Status
                                          },

                                          "<div style='border:1px solid " & EsquemaDeCores.AzulEscuroBonin.Texto & ";border-radius:10px;box-shadow:0 2px 6px " & corSombra & ";
                                                       font-family: "& App.Theme.Font & ", Arial, sans-serif;background:" & EsquemaDeCores.AzulBackground.Texto & ";color:" & corTexto & ";
                                                       margin:3px;padding:6px;width:100% - 6;display:flex;flex-direction:column;gap:4px;text-align: center'>

                                              <div style='font-size:14px;font-weight:700;color:" & corPrincipal & ";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;'>
                                                  " & tituloGaleria & "
                                              </div>

                                              <div style='font-size:13px;color:white;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;'>
                                                  " & subtituloGaleria & "
                                              </div>

                                          </div>"
                                      )
                                    OnSelect: =Select(Parent)
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    PaddingTop: =0
                                    Width: =Parent.TemplateWidth
                        - Container36:
                            Control: GroupContainer@1.3.0
                            Variant: ManualLayout
                            Properties:
                              DropShadow: =DropShadow.None
                              Fill: =EsquemaDeCores.AzulConteiner.Cor
                              Height: =Parent.Height
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                              Visible: =info_chamados
                              Width: =Parent.Width
                            Children:
                              - Container38:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    Height: =Parent.Height - Self.Y
                                    LayoutDirection: =LayoutDirection.Vertical
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Width: =Parent.Width - Medidas.Espacamento*2
                                    X: =Parent.Width/2 - Self.Width/2
                                    Y: =Medidas.Espacamento*2
                                  Children:
                                    - Container39:
                                        Control: GroupContainer@1.3.0
                                        Variant: ManualLayout
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Center
                                          DropShadow: =DropShadow.None
                                          Fill: =EsquemaDeCores.AzulBackground.Cor
                                          FillPortions: =0
                                          Height: =50
                                          RadiusBottomLeft: =Medidas.Raio/2
                                          RadiusBottomRight: =Medidas.Raio/2
                                          RadiusTopLeft: =Medidas.Raio/2
                                          RadiusTopRight: =Medidas.Raio/2
                                          Width: =Parent.Width - Medidas.Espacamento*4
                                        Children:
                                          - Label1_140:
                                              Control: Label@2.5.1
                                              Properties:
                                                Align: =Align.Center
                                                BorderColor: =App.Theme.Colors.Darker30
                                                Color: =RGBA(255, 255, 255, 1)
                                                FontWeight: =FontWeight.Semibold
                                                Height: =Parent.Height
                                                Size: =20
                                                Text: |-
                                                  =Concatenate(Requisicao, " - TICKET: ", loc_InfoTicket_dev.Ticket)
                                                Width: =Parent.Width
                                          - Icon1:
                                              Control: Classic/Icon@2.5.0
                                              Properties:
                                                BorderColor: =App.Theme.Colors.Darker30
                                                Color: =RGBA(255, 255, 255, 1)
                                                Height: =Parent.Height - Self.Y * 2
                                                Icon: =Icon.CancelBadge
                                                OnSelect: |-
                                                  =UpdateContext({info_chamados: false})
                                                X: =Parent.Width - Self.Width
                                                Y: =5
                                    - Container45:
                                        Control: GroupContainer@1.3.0
                                        Variant: ManualLayout
                                        Properties:
                                          DropShadow: =DropShadow.None
                                          FillPortions: =0
                                          Height: =Medidas.Espacamento*2
                                          RadiusBottomLeft: =0
                                          RadiusBottomRight: =0
                                          RadiusTopLeft: =0
                                          RadiusTopRight: =0
                                    - Container39_1:
                                        Control: GroupContainer@1.3.0
                                        Variant: ManualLayout
                                        Properties:
                                          DropShadow: =DropShadow.None
                                          Height: =40
                                          RadiusBottomLeft: =0
                                          RadiusBottomRight: =0
                                          RadiusTopLeft: =0
                                          RadiusTopRight: =0
                                        Children:
                                          - Container40:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                BorderStyle: =BorderStyle.None
                                                DropShadow: =DropShadow.None
                                                Height: =Parent.Height
                                                LayoutDirection: =LayoutDirection.Horizontal
                                                PaddingBottom: =10
                                                PaddingLeft: =10
                                                PaddingRight: =10
                                                RadiusBottomLeft: =0
                                                RadiusBottomRight: =0
                                                RadiusTopLeft: =0
                                                RadiusTopRight: =0
                                                Width: =Parent.Width
                                              Children:
                                                - Container44:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      DropShadow: =DropShadow.None
                                                      Fill: =RGBA(255, 255, 255, 1)
                                                      Height: =150
                                                      LayoutDirection: =LayoutDirection.Vertical
                                                      RadiusBottomLeft: =10
                                                      RadiusBottomRight: =10
                                                      RadiusTopLeft: =10
                                                      RadiusTopRight: =10
                                                      Width: =981
                                                      Y: =Parent.Height - Self.Height
                                                    Children:
                                                      - HtmlText10:
                                                          Control: HtmlViewer@2.1.0
                                                          Properties:
                                                            AutoHeight: =true
                                                            FillPortions: =1
                                                            Height: =Parent.Height - Container44.Height
                                                            HtmlText: |
                                                              =With(
                                                                  { req: loc_InfoTicket_dev },
                                                                  With(
                                                                      {
                                                                          // ------------------ Campos comuns ------------------
                                                                          reqName:                req.Tk_Nome_Solicitante,
                                                                          reqEmail:               req.Tk_Email_Solicitante,
                                                                          reqCompany:             req.Tk_Empresa_Solicitante,
                                                                          reqOpenedAt:            Text(req.Tk_Data_Abertura, "[$-pt-BR]dd/mm/yyyy"),
                                                                          reqDescHtml:            req.Tk_Descricao_Ocorrencia,

                                                                          // ------------------ CTD ------------------
                                                                          ctdQuestion:            req.CTD_problema_existente,
                                                                          ctdRelated:             req.CTD_relacao_sistema,
                                                                          ctdLimitation:          req.CTD_necessidade_tecnica,
                                                                          ctdImpact:              req.CTD_impacto_consulta.Value,

                                                                          // ------------------ RAM ------------------
                                                                          ramImpactedUsers:       req.RAM_Impacto,
                                                                          ramTargetSystem:        req.RAM_Sistema_Automacao,

                                                                          // ------------------ RDA ------------------
                                                                          rdaObjective:           req.RDA_objetivo_Aplicativo,
                                                                          rdaFlow:                req.RDA_Fluxo_Existente,
                                                                          rdaFeatures:            req.RDA_Funcionalidades,
                                                                          rdaDesign:              req.RDA_Controle_Exemplo,
                                                                          rdaAutomation:          req.RDA_Necessidade_Automacao,

                                                                          // ------------------ RDB ------------------
                                                                          rdbObjective:           req.RDB_Objetivo_BI,
                                                                          rdbDataSources:         req.RDB_Fontes_Dados,
                                                                          rdbAudience:            req.RDB_usuarios_BI,
                                                                          rdbKPIs:                req.RDB_indicadores_existentes,

                                                                          // ------------------ RCA ------------------
                                                                          rcaGrantEmail:          req.RCA_email_liberacao,
                                                                          rcaAppName:             req.RCA_Nome_Aplicativo,

                                                                          // ------------------ RET ------------------
                                                                          retClarification:       req.RET_Duvida_Especifica,
                                                                          retType:                req.RET_Tipo_Parecer.Value,
                                                                          retSpecificDoubt:       req.RET_evidencia_erro,

                                                                          // ------------------ RIA ------------------
                                                                          riaProcessName:         req.RIA_Nome_Processo,
                                                                          riaExpectedDeadline:    req.RIA_prazo_esperado,
                                                                          riaIssues:              req.RIA_Dificuldades,
                                                                          riaOwner:               req.RIA_responsavel_processo

                                                                      },
                                                                      With(
                                                                          {
                                                                              // Linha de 3 colunas aparece se houver qualquer valor
                                                                              hasTopRow: Or(!IsBlank(reqName), !IsBlank(reqEmail), !IsBlank(reqCompany)),

                                                                              // Perguntas por tipo (ordem alfabética por código: CTD, RDA, RDB, RCA, RET, RIA, RAM)
                                                                              questions: Table(
                                                                                  // CTD
                                                                                  { k:"Dúvida/Necessidade técnica:",      v: ctdQuestion },
                                                                                  { k:"Sistema/app relacionado:",         v: ctdRelated },
                                                                                  { k:"Limitação técnica:",               v: ctdLimitation },
                                                                                  { k:"Impacto da dúvida:",               v: ctdImpact },

                                                                                  // RAM
                                                                                  { k:"Usuários impactados:",             v: ramImpactedUsers },
                                                                                  { k:"Sistema/app/automação a ajustar:", v: ramTargetSystem },

                                                                                  // RDA
                                                                                  { k:"Objetivo do app:",                 v: rdaObjective },
                                                                                  { k:"Fluxo de uso:",                    v: rdaFlow },
                                                                                  { k:"Funcionalidades necessárias:",     v: rdaFeatures },
                                                                                  { k:"Design desejado:",                 v: rdaDesign },
                                                                                  { k:"Necessita automação?",             v: rdaAutomation },

                                                                                  // RDB
                                                                                  { k:"Objetivo do BI:",                  v: rdbObjective },
                                                                                  { k:"Fontes de dados:",                 v: rdbDataSources },
                                                                                  { k:"Acesso (usuários):",               v: rdbAudience },
                                                                                  { k:"Métricas/KPIs:",                   v: rdbKPIs },

                                                                                  // RCA
                                                                                  { k:"E-mail para liberação:",           v: rcaGrantEmail },
                                                                                  { k:"Nome do aplicativo:",              v: rcaAppName },

                                                                                  // RET
                                                                                  { k:"Esclarecimento necessário:",       v: retClarification },
                                                                                  { k:"Tipo de esclarecimento:",          v: retType },
                                                                                  { k:"Dúvida específica:",               v: retSpecificDoubt },

                                                                                  // RIA
                                                                                  { k:"Nome do processo:",               v: riaProcessName },
                                                                                  { k:"Prazo esperado:",                 v: riaExpectedDeadline },
                                                                                  { k:"Dificuldades no processo:",       v: riaIssues },
                                                                                  { k:"Responsável pelo processo:",      v: riaOwner }

                                                                              )
                                                                          },

                                                                          // --------- Cartão (HTML inline compatível com HTML Text) ---------
                                                                          "<div style='height:" & Self.Height & "px; overflow-y:auto; overflow-x:hidden; box-sizing:border-box;'>" &
                                                                          "<div style='height: 93%;background:#fff;padding:15px 15px;
                                                                                      font-family:Segoe UI, Arial, sans-serif;color:#1a202c;margin-bottom: " & Medidas.Espacamento & "px;'>" &

                                                                              // Cabeçalho: título à esquerda, "Chamado aberto em" (label acima do valor) à direita
                                                                              "<table style='width:100%;border-collapse:collapse;margin-bottom:8px;'><tr>" &
                                                                                  "<td style='font-weight:700;font-size:16px;'>Detalhes para atendimento</td>" &
                                                                                  "<td style='padding:0px 0;'>" &
                                                                                      If(
                                                                                          !IsBlank(reqOpenedAt),
                                                                                          "<div style='text-align:right;'>" &
                                                                                              "<div style='font-size:14px;color:#6b7280;font-weight:600;'>Chamado aberto em</div>" &
                                                                                              "<div style='font-size:14px;color:#374151;'>" & PlainText(reqOpenedAt) & "</div>" &
                                                                                          "</div>",
                                                                                          ""
                                                                                      ) &
                                                                                  "</td>" &
                                                                              "</tr></table>" &

                                                                              "<div style='height:1px;background:#f0f2f6;margin:8px 0;'></div>" &

                                                                              // Primeira linha: 3 colunas iguais (Solicitante – E-mail – Empresa)
                                                                              If(
                                                                                  hasTopRow,
                                                                                  "<table style='width:100%;border-collapse:collapse;margin-bottom:6px;'><tr>" &
                                                                                      // Solicitan­te
                                                                                      "<td style='width:33.33%;vertical-align:top;padding:6px 8px;'>" &
                                                                                          "<div style='font-weight:600;color:#4a5568;margin-bottom:2px'>Solicitante</div>" &
                                                                                          "<div style='color:#111827;'>" &
                                                                                              Substitute( PlainText(Coalesce(reqName, "")), Char(10), "<br>" ) &
                                                                                          "</div>" &
                                                                                      "</td>" &
                                                                                      // E-mail (clicável)
                                                                                      "<td style='width:33.33%;vertical-align:top;padding:6px 8px;'>" &
                                                                                          "<div style='font-weight:600;color:#4a5568;margin-bottom:2px'>E-mail</div>" &
                                                                                          "<div style='color:#111827;'>" &
                                                                                              If(
                                                                                                  !IsBlank(reqEmail),
                                                                                                  "<a href='mailto:" & PlainText(reqEmail) & "' style='text-decoration:none;border-bottom:1px dotted #9ca3af;'>" &
                                                                                                      PlainText(reqEmail) & "</a>",
                                                                                                  ""
                                                                                              ) &
                                                                                          "</div>" &
                                                                                      "</td>" &
                                                                                      // Empresa
                                                                                      "<td style='width:33.33%;vertical-align:top;padding:6px 8px;'>" &
                                                                                          "<div style='font-weight:600;color:#4a5568;margin-bottom:2px'>Empresa</div>" &
                                                                                          "<div style='color:#111827;'>" &
                                                                                              Substitute( PlainText(Coalesce(reqCompany, "")), Char(10), "<br>" ) &
                                                                                          "</div>" &
                                                                                      "</td>" &
                                                                                  "</tr></table>",
                                                                                  ""
                                                                              ) &

                                                                              // Perguntas: rótulo (direita) | valor (esquerda)
                                                                              "<div style='height:1px;background:#f0f2f6;margin:8px 0;'></div>" &
                                                                              "<table style='width:100%;border-collapse:collapse;'>" &
                                                                                  Concat(
                                                                                      Filter(questions, !IsBlank(v)),
                                                                                      "<tr>" &
                                                                                          "<td style='width:33.33%;vertical-align:top;padding:6px 8px;font-weight:600;color:#4a5568;text-align:right;'>" &
                                                                                              PlainText(k) &
                                                                                          "</td>" &
                                                                                          "<td style='vertical-align:top;padding:6px 8px;color:#111827;text-align:left;'>" &
                                                                                              Substitute( PlainText(Coalesce(v, "")), Char(10), "<br>" ) &
                                                                                          "</td>" &
                                                                                      "</tr>"
                                                                                  ) &
                                                                              "</table>" &

                                                                              // Descrição (HTML do SharePoint preservado)
                                                                              If(
                                                                                  !IsBlank(reqDescHtml),
                                                                                  "<div style='height:1px;background:#f0f2f6;margin:8px 0;'></div>" &
                                                                                  "<div style='margin:6px 0 2px 0;font-weight:700;'>Descrição da requisição</div>" &
                                                                                  "<div>" & reqDescHtml & "</div>",
                                                                                  ""
                                                                              ) &

                                                                          "</div>" & "</div>"
                                                                      )
                                                                  )
                                                              )
                                                            PaddingBottom: =0
                                                            PaddingLeft: =0
                                                            PaddingRight: =0
                                                            PaddingTop: =0
                                                            Width: =Parent.Width
                                                      - Container39_2:
                                                          Control: GroupContainer@1.3.0
                                                          Variant: ManualLayout
                                                          Properties:
                                                            AlignInContainer: =AlignInContainer.Center
                                                            DropShadow: =DropShadow.None
                                                            Fill: =EsquemaDeCores.AzulBackground.Cor
                                                            FillPortions: =0
                                                            Height: =40
                                                            RadiusBottomLeft: =Medidas.Raio
                                                            RadiusBottomRight: =Medidas.Raio
                                                            RadiusTopLeft: =Medidas.Raio
                                                            RadiusTopRight: =Medidas.Raio
                                                            Width: =Parent.Width - Medidas.Espacamento*2
                                                            Y: =20
                                                          Children:
                                                            - Label1_141:
                                                                Control: Label@2.5.1
                                                                Properties:
                                                                  Align: =Align.Center
                                                                  BorderColor: =App.Theme.Colors.Darker30
                                                                  Color: =RGBA(255, 255, 255, 1)
                                                                  FontWeight: =FontWeight.Semibold
                                                                  Height: =Parent.Height
                                                                  Size: =15
                                                                  Text: ="ATENDENTE"
                                                                  Width: =Parent.Width
                                                      - Container46_2:
                                                          Control: GroupContainer@1.3.0
                                                          Variant: ManualLayout
                                                          Properties:
                                                            BorderStyle: =BorderStyle.None
                                                            DropShadow: =DropShadow.None
                                                            FillPortions: =0
                                                            Height: =100
                                                            RadiusBottomLeft: =0
                                                            RadiusBottomRight: =0
                                                            RadiusTopLeft: =0
                                                            RadiusTopRight: =0
                                                            X: =40
                                                            Y: =40
                                                          Children:
                                                            - Form_Selecao_Atendente_4:
                                                                Control: Form@2.4.4
                                                                Variant: Classic
                                                                Layout: Vertical
                                                                Properties:
                                                                  BorderColor: =App.Theme.Colors.Darker30
                                                                  DataSource: =db_tickets_dev
                                                                  DefaultMode: =FormMode.View
                                                                  Height: =Parent.Height
                                                                  Item: =loc_InfoTicket_dev
                                                                  Width: =Parent.Width - Self.X
                                                                  X: =Image1_3.X + Image1_3.Width + Medidas.Espacamento*2
                                                                Children:
                                                                  - Tk_Atendente_DataCard2_4:
                                                                      Control: TypedDataCard@1.0.7
                                                                      Variant: ClassicComboBoxEdit
                                                                      Properties:
                                                                        BorderColor: =App.Theme.Colors.Darker30
                                                                        DataField: ="Tk_Atendente"
                                                                        Default: =ThisItem.Tk_Atendente
                                                                        DisplayName: =DataSourceInfo([@db_tickets_infra],DataSourceInfo.DisplayName,Tk_Atendente)
                                                                        Height: =Parent.Height
                                                                        Required: =false
                                                                        Update: =DataCardValue22_5.Selected
                                                                        Width: =Parent.Width
                                                                        X: =0
                                                                        Y: =0
                                                                      Children:
                                                                        - DataCardKey22_5:
                                                                            Control: Label@2.5.1
                                                                            MetadataKey: FieldName
                                                                            Properties:
                                                                              AutoHeight: =true
                                                                              BorderColor: =RGBA(0, 0, 0, 1)
                                                                              Color: =App.Theme.Colors.Darker30
                                                                              FontWeight: =FontWeight.Semibold
                                                                              Height: =34
                                                                              Size: =12
                                                                              Text: =Parent.DisplayName
                                                                              Visible: =false
                                                                              Width: =Parent.Width - 60
                                                                              Wrap: =false
                                                                              X: =30
                                                                              Y: =10
                                                                        - DataCardValue22_5:
                                                                            Control: Classic/ComboBox@2.4.0
                                                                            MetadataKey: FieldValue
                                                                            Properties:
                                                                              BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                                                              ChevronFill: =RGBA(255, 255, 255, 1)
                                                                              ChevronHoverFill: =RGBA(255, 255, 255, 1)
                                                                              Default: =loc_InfoTicket_dev.Tk_Atendente
                                                                              DefaultSelectedItems: =Parent.Default
                                                                              DisplayFields: =["Value"]
                                                                              DisplayMode: =Parent.DisplayMode
                                                                              Height: =30
                                                                              HoverFill: =RGBA(186, 202, 226, 1)
                                                                              Items: =Choices([@db_tickets_infra].Tk_Atendente)
                                                                              OnSelect: |-
                                                                                =Patch(
                                                                                    db_eventos_dev,
                                                                                    Defaults(db_eventos_dev),
                                                                                    {
                                                                                        Tk_TicketID: loc_InfoTicket_dev.Tk_Ticket,
                                                                                        Tk_Data_Inicio_Evento: Today(),
                                                                                        Tk_Data_Termino_Evento: Today(),
                                                                                        Tk_Tipo_Evento: { Value: "Atendente Selecionado" } // Formato correto para campo de Opções
                                                                                    }
                                                                                );
                                                                              PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                                                              PressedColor: =RGBA(255, 255, 255, 1)
                                                                              SearchFields: =["Value"]
                                                                              SelectMultiple: =false
                                                                              SelectionColor: =RGBA(255, 255, 255, 1)
                                                                              SelectionFill: =RGBA(56, 96, 178, 1)
                                                                              Size: =11
                                                                              Tooltip: =Parent.DisplayName
                                                                              Width: =Parent.Width - 60
                                                                              Y: =Image1_3.Height/2
                                                                        - ErrorMessage22_5:
                                                                            Control: Label@2.5.1
                                                                            MetadataKey: ErrorMessage
                                                                            Properties:
                                                                              AutoHeight: =true
                                                                              BorderColor: =RGBA(0, 0, 0, 1)
                                                                              Color: =RGBA(168, 0, 0, 1)
                                                                              FontWeight: =FontWeight.Semibold
                                                                              Height: =10
                                                                              Live: =Live.Assertive
                                                                              PaddingBottom: =0
                                                                              PaddingLeft: =0
                                                                              PaddingRight: =0
                                                                              PaddingTop: =0
                                                                              Size: =14
                                                                              Text: =Parent.Error
                                                                              Visible: =Parent.DisplayMode=DisplayMode.Edit
                                                                              Width: =Parent.Width - 60
                                                                              X: =30
                                                                              Y: =DataCardValue22_5.Y + DataCardValue22_5.Height
                                                                        - StarVisible22_5:
                                                                            Control: Label@2.5.1
                                                                            MetadataKey: FieldRequired
                                                                            Properties:
                                                                              Align: =Align.Center
                                                                              BorderColor: =RGBA(0, 0, 0, 1)
                                                                              Color: =App.Theme.Colors.Darker30
                                                                              Height: =DataCardKey22_5.Height
                                                                              Text: ="*"
                                                                              Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                                                              Width: =10
                                                                              Wrap: =false
                                                                              Y: =DataCardKey22_5.Y
                                                                        - Label1_1:
                                                                            Control: Label@2.5.1
                                                                            Properties:
                                                                              FontWeight: =FontWeight.Semibold
                                                                              Height: =30
                                                                              PaddingLeft: =0
                                                                              PaddingRight: =0
                                                                              Size: =12
                                                                              Text: =If(IsBlank(loc_InfoTicket_dev.Tk_Atendente.Value), "Sem atendente selecionado", LookUp(colAtendentesDI, Value = loc_InfoTicket_dev.Tk_Atendente.Value, Atendente))
                                                                              Width: =Parent.Width
                                                                              Y: =Image1_4.Height/2 - Self.Height
                                                            - Image1_3:
                                                                Control: Image@2.2.3
                                                                Properties:
                                                                  BorderColor: =App.Theme.Colors.Darker30
                                                                  Height: =Parent.Height - Medidas.Espacamento*2
                                                                  Image: |-
                                                                    =If(DataCardValue22_5.Selected.Value = Blank(),
                                                                    UsuáriosdoOffice365.UserPhoto("sistemas@bonin.eng.br"),
                                                                    UsuáriosdoOffice365.UserPhoto(DataCardValue22_5.Selected.Value))
                                                                  ImagePosition: =ImagePosition.Fill
                                                                  RadiusBottomLeft: =50
                                                                  RadiusBottomRight: =50
                                                                  RadiusTopLeft: =50
                                                                  RadiusTopRight: =50
                                                                  Width: =Self.Height
                                                                  X: =Medidas.Espacamento*2
                                                                  Y: =Parent.Height/2 - Self.Height/2
                                                - Container42:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: ManualLayout
                                                    Properties:
                                                      DropShadow: =DropShadow.None
                                                      FillPortions: =0
                                                      RadiusBottomLeft: =0
                                                      RadiusBottomRight: =0
                                                      RadiusTopLeft: =0
                                                      RadiusTopRight: =0
                                                      Width: =Medidas.Espacamento*2
                                                - Container43:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      DropShadow: =DropShadow.None
                                                      LayoutDirection: =LayoutDirection.Vertical
                                                      RadiusBottomLeft: =0
                                                      RadiusBottomRight: =0
                                                      RadiusTopLeft: =0
                                                      RadiusTopRight: =0
                                                    Children:
                                                      - Container37_1:
                                                          Control: GroupContainer@1.3.0
                                                          Variant: ManualLayout
                                                          Properties:
                                                            DropShadow: =DropShadow.None
                                                            FillPortions: =0
                                                            Height: =50
                                                            RadiusBottomLeft: =0
                                                            RadiusBottomRight: =0
                                                            RadiusTopLeft: =0
                                                            RadiusTopRight: =0
                                                            Visible: =If(AtualizacaoHistorico || EditarHistorico, false, true)
                                                          Children:
                                                            - Button4_1:
                                                                Control: Classic/Button@2.2.0
                                                                Properties:
                                                                  BorderColor: =ColorFade(Self.Fill, -15%)
                                                                  Color: =RGBA(255, 255, 255, 1)
                                                                  DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                                                  Fill: =EsquemaDeCores.AzulBackground.Cor
                                                                  Height: =Parent.Height
                                                                  HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                                                                  HoverColor: =RGBA(255, 255, 255, 1)
                                                                  HoverFill: =ColorFade(EsquemaDeCores.AzulBackground.Cor, -20%)
                                                                  OnSelect: |-
                                                                    =UpdateContext({AtualizacaoHistorico:true});
                                                                    UpdateContext({Atendente:false});
                                                                    NewForm(Form_Lancamento_Historico);
                                                                  PressedBorderColor: =Self.Fill
                                                                  PressedColor: =RGBA(255, 255, 255, 1)
                                                                  PressedFill: =ColorFade(EsquemaDeCores.AzulBackground.Cor, -20%)
                                                                  RadiusBottomLeft: =Medidas.Raio
                                                                  RadiusBottomRight: =Medidas.Raio
                                                                  RadiusTopLeft: =Medidas.Raio
                                                                  RadiusTopRight: =Medidas.Raio
                                                                  Text: ="ATUALIZAR HISTÓRICO DE EVENTOS"
                                                                  Width: =Parent.Width
                                                      - Container37:
                                                          Control: GroupContainer@1.3.0
                                                          Variant: ManualLayout
                                                          Properties:
                                                            DropShadow: =DropShadow.None
                                                            FillPortions: =0
                                                            Height: =Medidas.Espacamento
                                                            RadiusBottomLeft: =0
                                                            RadiusBottomRight: =0
                                                            RadiusTopLeft: =0
                                                            RadiusTopRight: =0
                                                            Visible: =If(AtualizacaoHistorico || EditarHistorico, false, true)
                                                      - Container28_6:
                                                          Control: GroupContainer@1.3.0
                                                          Variant: ManualLayout
                                                          Properties:
                                                            DropShadow: =DropShadow.None
                                                            Fill: =RGBA(255, 255, 255, 1)
                                                            Height: =150
                                                            RadiusBottomLeft: =Medidas.Raio
                                                            RadiusBottomRight: =Medidas.Raio
                                                            RadiusTopLeft: =Medidas.Raio
                                                            RadiusTopRight: =Medidas.Raio
                                                            Visible: =If(AtualizacaoHistorico || EditarHistorico, false, true)
                                                          Children:
                                                            - Container30_3:
                                                                Control: GroupContainer@1.3.0
                                                                Variant: AutoLayout
                                                                Properties:
                                                                  DropShadow: =DropShadow.None
                                                                  Height: =Parent.Height - Medidas.Espacamento*2
                                                                  LayoutDirection: =LayoutDirection.Vertical
                                                                  RadiusBottomLeft: =0
                                                                  RadiusBottomRight: =0
                                                                  RadiusTopLeft: =0
                                                                  RadiusTopRight: =0
                                                                  Width: =Parent.Width - Medidas.Espacamento*2
                                                                  X: =Parent.Width/2 - Self.Width/2
                                                                  Y: =Parent.Height/2 - Self.Height/2
                                                                Children:
                                                                  - HtmlText9_2:
                                                                      Control: HtmlViewer@2.1.0
                                                                      Properties:
                                                                        AlignInContainer: =AlignInContainer.Stretch
                                                                        AutoHeight: =true
                                                                        HtmlText: |
                                                                          =With(
                                                                              {
                                                                                  corPrincipal: EsquemaDeCores.AzulBackground.Texto,
                                                                                  corTexto: "#fff",
                                                                                  corSombra: "rgba(0,0,0,0.08)"
                                                                              },
                                                                              "
                                                                                  <div style='display:flex;align-items:center;justify-content:space-between;
                                                                                          border:1px solid " & corPrincipal & ";border-radius:" & Medidas.Raio & "px;
                                                                                          background:" & corPrincipal & ";
                                                                                          margin-bottom:" & Medidas.Espacamento & "px;
                                                                                          padding:4px 4px;
                                                                                          font-family: "& App.Theme.Font & ", Arial, sans-serif;
                                                                                          font-size:20px;font-weight:700;
                                                                                          color:" & corTexto & ";box-shadow:0 1px 3px " & corSombra & ";'>

                                                                                  <!-- Data -->
                                                                                  <div style='flex:1;text-align:center;'>HISTÓRICO DE EVENTOS</div>
                                                                              </div>
                                                                              <div style='display:flex;align-items:center;justify-content:space-between;
                                                                                          border:1px solid " & corPrincipal & ";border-radius:" & Medidas.Raio & "px;
                                                                                          background:" & corPrincipal & ";
                                                                                          margin-top:" & Medidas.Espacamento & "px;
                                                                                          margin-bottom:" & Medidas.Espacamento & "px;
                                                                                          padding:4px 4px;
                                                                                          font-family: "& App.Theme.Font & ", Arial, sans-serif;
                                                                                          font-size:16px;font-weight:700;
                                                                                          color:" & corTexto & ";box-shadow:0 1px 3px " & corSombra & ";'>

                                                                                  <!-- Data -->
                                                                                  <div style='flex:1;text-align:center;'>DATA DE<br>ABERTURA</div>

                                                                                  <!-- Nome -->
                                                                                  <div style='flex:2;text-align:center;'>TICKET</div>

                                                                                  <!-- Status -->
                                                                                  <div style='flex:3;text-align:center;'>STATUS</div>
                                                                              </div>
                                                                              "
                                                                          )
                                                                        PaddingBottom: =0
                                                                        PaddingLeft: =0
                                                                        PaddingRight: =0
                                                                        PaddingTop: =0
                                                                  - Gallery1_20:
                                                                      Control: Gallery@2.15.0
                                                                      Variant: VariableHeight
                                                                      Properties:
                                                                        BorderColor: =RGBA(45, 65, 93, 1)
                                                                        BorderStyle: =BorderStyle.None
                                                                        Fill: =RGBA(255, 255, 255, 1)
                                                                        FillPortions: =0
                                                                        Height: |
                                                                          =Parent.Height - Self.Y - 10
                                                                        Items: =Filter(db_eventos_dev, Tk_TicketID = loc_InfoTicket_dev.Ticket)
                                                                        ShowScrollbar: =false
                                                                        TemplatePadding: =0
                                                                        TemplateSize: =50
                                                                        Width: =Parent.Width - Self.X*2
                                                                        X: =10
                                                                        Y: =593
                                                                      Children:
                                                                        - HtmlText8_1:
                                                                            Control: HtmlViewer@2.1.0
                                                                            Properties:
                                                                              AutoHeight: =true
                                                                              Height: =50
                                                                              HtmlText: |
                                                                                =With(
                                                                                    {
                                                                                        corTexto: "#222",
                                                                                        corSombra: "rgba(0,0,0,0.08)"
                                                                                    },
                                                                                    "
                                                                                    <div style='display:flex;align-items:center;justify-content:space-between;
                                                                                                height: 60px;
                                                                                                border:1px solid #ddd;border-radius:6px;
                                                                                                background:#fff;padding:4px 8px;
                                                                                                font-family: "& App.Theme.Font & ", Arial, sans-serif;
                                                                                                font-size:14px;color:" & corTexto & ";
                                                                                                box-shadow:0 1px 3px " & corSombra & ";'>

                                                                                        <!-- Data de início -->
                                                                                        <div style='flex:1;text-align:center;white-space:nowrap;'>
                                                                                            " & Text(ThisItem.Tk_Data_Inicio_Evento,"dd/mm/yyyy") & "
                                                                                        </div>

                                                                                        <!-- Nome do modificador -->
                                                                                        <div style='flex:2;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;'>
                                                                                            " & ThisItem.'Modificado por'.DisplayName & "
                                                                                        </div>

                                                                                        <!-- Status -->
                                                                                        <div style='flex:3;text-align:center;font-weight:600;white-space:nowrap;'>
                                                                                            " & ThisItem.Tk_Tipo_Evento.Value & "
                                                                                        </div>
                                                                                    </div>
                                                                                    "
                                                                                )
                                                                              OnSelect: =Select(Parent)
                                                                              PaddingBottom: =0
                                                                              PaddingLeft: =0
                                                                              PaddingRight: =0
                                                                              PaddingTop: =0
                                                                              Width: =Parent.Width
                                                                        - Button3_3:
                                                                            Control: Classic/Button@2.2.0
                                                                            Properties:
                                                                              BorderColor: =ColorFade(Self.Fill, -15%)
                                                                              BorderStyle: =BorderStyle.None
                                                                              Color: =RGBA(0, 0, 0, 0)
                                                                              DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                                                              Fill: =RGBA(0, 0, 0, 0)
                                                                              Height: =HtmlText8_1.Height - 2
                                                                              HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                                                                              HoverColor: =RGBA(255, 255, 255, 1)
                                                                              HoverFill: =ColorValue(EsquemaDeCores.AzulEscuroBonin.Texto&"33") // O 33 representa o código em hexadecimal que indica a transparência, nesse caso 20%
                                                                              OnSelect: |
                                                                                =UpdateContext({EditarHistorico:true});
                                                                                Clear(colHistorioEvento);
                                                                                ClearCollect(colHistorioEvento, Filter(db_eventos_dev, ID = ThisItem.ID));
                                                                                UpdateContext({loc_InfoHistorioEvento_Dev: First(colHistorioEvento)});
                                                                              PressedBorderColor: =Self.Fill
                                                                              PressedColor: =Self.Fill
                                                                              PressedFill: =Color.Transparent
                                                                              RadiusBottomLeft: =5
                                                                              RadiusBottomRight: =5
                                                                              RadiusTopLeft: =5
                                                                              RadiusTopRight: =5
                                                                              Text: =
                                                                              Width: =Parent.Width
                                                      - Container28_7:
                                                          Control: GroupContainer@1.3.0
                                                          Variant: ManualLayout
                                                          Properties:
                                                            DropShadow: =DropShadow.None
                                                            Fill: =RGBA(255, 255, 255, 1)
                                                            Height: =150
                                                            RadiusBottomLeft: =10
                                                            RadiusBottomRight: =10
                                                            RadiusTopLeft: =10
                                                            RadiusTopRight: =10
                                                            Visible: =If(AtualizacaoHistorico || EditarHistorico, true, false)
                                                          Children:
                                                            - Container30_4:
                                                                Control: GroupContainer@1.3.0
                                                                Variant: AutoLayout
                                                                Properties:
                                                                  DropShadow: =DropShadow.None
                                                                  Height: =Parent.Height - Self.Y - 10
                                                                  LayoutDirection: =LayoutDirection.Vertical
                                                                  RadiusBottomLeft: =0
                                                                  RadiusBottomRight: =0
                                                                  RadiusTopLeft: =0
                                                                  RadiusTopRight: =0
                                                                  Width: =Parent.Width - Self.X * 2
                                                                  X: =10
                                                                  Y: '=10 '
                                                                Children:
                                                                  - Container31_4:
                                                                      Control: GroupContainer@1.3.0
                                                                      Variant: ManualLayout
                                                                      Properties:
                                                                        BorderColor: =RGBA(0, 13, 75, 1)
                                                                        DropShadow: =DropShadow.None
                                                                        Fill: =EsquemaDeCores.AzulBackground.Cor
                                                                        FillPortions: =0
                                                                        Height: =40
                                                                      Children:
                                                                        - Label1_143:
                                                                            Control: Label@2.5.1
                                                                            Properties:
                                                                              Align: =Align.Center
                                                                              BorderColor: =App.Theme.Colors.Darker30
                                                                              Color: =RGBA(255, 255, 255, 1)
                                                                              FocusedBorderThickness: =
                                                                              FontWeight: =FontWeight.Semibold
                                                                              Height: =Parent.Height
                                                                              OnSelect: =
                                                                              Size: =15
                                                                              TabIndex: =1
                                                                              Text: ="LANÇAMENTO DE EVENTOS"
                                                                              Width: =Parent.Width - Self.X * 2
                                                                        - Icon1_1:
                                                                            Control: Classic/Icon@2.5.0
                                                                            Properties:
                                                                              BorderColor: =App.Theme.Colors.Darker30
                                                                              Color: =RGBA(255, 255, 255, 1)
                                                                              Height: =Parent.Height - Self.Y * 2
                                                                              Icon: =Icon.CancelBadge
                                                                              OnSelect: |-
                                                                                =UpdateContext({AtualizacaoHistorico: false});
                                                                                UpdateContext({EditarHistorico: false});
                                                                                ResetForm(Form_Lancamento_Historico);
                                                                              X: =Parent.Width - Self.Width
                                                                              Y: =5
                                                                  - Container32_4:
                                                                      Control: GroupContainer@1.3.0
                                                                      Variant: AutoLayout
                                                                      Properties:
                                                                        DropShadow: =DropShadow.None
                                                                        LayoutDirection: =LayoutDirection.Vertical
                                                                        RadiusBottomLeft: =0
                                                                        RadiusBottomRight: =0
                                                                        RadiusTopLeft: =0
                                                                        RadiusTopRight: =0
                                                                      Children:
                                                                        - Container46:
                                                                            Control: GroupContainer@1.3.0
                                                                            Variant: ManualLayout
                                                                            Properties:
                                                                              BorderStyle: =BorderStyle.None
                                                                              DropShadow: =DropShadow.None
                                                                              FillPortions: =0
                                                                              Height: =Medidas.Espacamento
                                                                              RadiusBottomLeft: =0
                                                                              RadiusBottomRight: =0
                                                                              RadiusTopLeft: =0
                                                                              RadiusTopRight: =0
                                                                        - Container61:
                                                                            Control: GroupContainer@1.3.0
                                                                            Variant: ManualLayout
                                                                            Properties:
                                                                              DropShadow: =DropShadow.None
                                                                              Fill: =EsquemaDeCores.AzulConteiner.Cor
                                                                              RadiusBottomLeft: =Medidas.Raio
                                                                              RadiusBottomRight: =Medidas.Raio
                                                                              RadiusTopLeft: =Medidas.Raio
                                                                              RadiusTopRight: =Medidas.Raio
                                                                            Children:
                                                                              - Form_Selecao_Atendente_1:
                                                                                  Control: Form@2.4.4
                                                                                  Variant: Classic
                                                                                  Layout: Vertical
                                                                                  Properties:
                                                                                    BorderColor: =App.Theme.Colors.Darker30
                                                                                    DataSource: =db_tickets_dev
                                                                                    Height: =100
                                                                                    Item: =loc_InfoTicket_dev
                                                                                    Visible: |-
                                                                                      =If(
                                                                                          !IsBlank(DataCardValue26_2.Selected.Value) && DataCardValue26_2.Selected.Value = "Atendente Selecionado",
                                                                                          true,
                                                                                          false
                                                                                      )
                                                                                    Width: =Parent.Width
                                                                                    Y: =Parent.Height-Self.Height
                                                                                  Children:
                                                                                    - Tk_Atendente_DataCard2_1:
                                                                                        Control: TypedDataCard@1.0.7
                                                                                        Variant: ClassicComboBoxEdit
                                                                                        Properties:
                                                                                          BorderColor: =App.Theme.Colors.Darker30
                                                                                          DataField: ="Tk_Atendente"
                                                                                          Default: =ThisItem.Tk_Atendente
                                                                                          DisplayName: =DataSourceInfo([@db_tickets_infra],DataSourceInfo.DisplayName,Tk_Atendente)
                                                                                          Height: =Parent.Height
                                                                                          Required: =false
                                                                                          Update: =DataCardValue22_4.Selected
                                                                                          Width: =609
                                                                                          WidthFit: =true
                                                                                          X: =0
                                                                                          Y: =0
                                                                                        Children:
                                                                                          - DataCardKey22_4:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldName
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =34
                                                                                                Size: =12
                                                                                                Text: ="SELECIONAR ATENDENTE"
                                                                                                Width: =Parent.Width - 20
                                                                                                Wrap: =false
                                                                                                X: =10
                                                                                                Y: =10
                                                                                          - Container65:
                                                                                              Control: GroupContainer@1.3.0
                                                                                              Variant: ManualLayout
                                                                                              Properties:
                                                                                                BorderStyle: =BorderStyle.None
                                                                                                DropShadow: =DropShadow.None
                                                                                                Height: =30
                                                                                                RadiusBottomLeft: =5
                                                                                                RadiusBottomRight: =5
                                                                                                RadiusTopLeft: =5
                                                                                                RadiusTopRight: =5
                                                                                                Width: =Parent.Width - 20
                                                                                                X: =10
                                                                                                Y: =48
                                                                                              Children:
                                                                                                - DataCardValue22_4:
                                                                                                    Control: Classic/ComboBox@2.4.0
                                                                                                    Properties:
                                                                                                      BorderColor: =If(IsBlank(Tk_Atendente_DataCard2_1.Error), Parent.BorderColor, Color.Red)
                                                                                                      BorderStyle: =BorderStyle.None
                                                                                                      BorderThickness: =0
                                                                                                      ChevronFill: =RGBA(255, 255, 255, 1)
                                                                                                      ChevronHoverFill: =RGBA(255, 255, 255, 1)
                                                                                                      DefaultSelectedItems: =Tk_Atendente_DataCard2_1.Default
                                                                                                      DisplayFields: =["Atendente"]
                                                                                                      DisplayMode: =Parent.DisplayMode
                                                                                                      Height: =Parent.Height
                                                                                                      HoverFill: =RGBA(186, 202, 226, 1)
                                                                                                      InputTextPlaceholder: ="Selecione o atendente"
                                                                                                      Items: =colAtendentesDI
                                                                                                      OnSelect: =
                                                                                                      PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                                                                                      PressedColor: =RGBA(255, 255, 255, 1)
                                                                                                      SearchFields: =["Value"]
                                                                                                      SelectMultiple: =false
                                                                                                      SelectionColor: =RGBA(255, 255, 255, 1)
                                                                                                      SelectionFill: =RGBA(56, 96, 178, 1)
                                                                                                      Size: =11
                                                                                                      Tooltip: =Tk_Atendente_DataCard2_1.DisplayName
                                                                                                      Width: =Parent.Width
                                                                                          - ErrorMessage22_4:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: ErrorMessage
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =RGBA(168, 0, 0, 1)
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =10
                                                                                                Live: =Live.Assertive
                                                                                                PaddingBottom: =0
                                                                                                PaddingLeft: =0
                                                                                                PaddingRight: =0
                                                                                                PaddingTop: =0
                                                                                                Size: =14
                                                                                                Text: =Parent.Error
                                                                                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                                                                                Width: =Parent.Width - 20
                                                                                                X: =10
                                                                                                Y: =DataCardValue22_4.Y + DataCardValue22_4.Height
                                                                                          - StarVisible22_4:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldRequired
                                                                                              Properties:
                                                                                                Align: =Align.Center
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                Height: =DataCardKey22_4.Height
                                                                                                Text: ="*"
                                                                                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                                                                                Width: =10
                                                                                                Wrap: =false
                                                                                                Y: =DataCardKey22_4.Y
                                                                              - Form_Lancamento_Historico:
                                                                                  Control: Form@2.4.4
                                                                                  Variant: Classic
                                                                                  Layout: Vertical
                                                                                  Properties:
                                                                                    BorderColor: =App.Theme.Colors.Darker30
                                                                                    DataSource: =db_eventos_dev
                                                                                    Height: =Parent.Height - If(!Form_Selecao_Atendente_1.Visible, 0,Form_Selecao_Atendente_1.Height)
                                                                                    Item: =loc_InfoHistorioEvento_Dev
                                                                                    OnReset: =true
                                                                                    OnSuccess: |
                                                                                      =ResetForm(Form_Lancamento_Historico);
                                                                                    SnapToColumns: =false
                                                                                    Width: =Parent.Width
                                                                                  Children:
                                                                                    - Tk_Tipo_Evento_DataCard1:
                                                                                        Control: TypedDataCard@1.0.7
                                                                                        Variant: ClassicComboBoxEdit
                                                                                        Properties:
                                                                                          BorderColor: =App.Theme.Colors.Darker30
                                                                                          DataField: ="Tk_Tipo_Evento"
                                                                                          Default: =ThisItem.Tk_Tipo_Evento
                                                                                          DisplayName: =DataSourceInfo([@db_eventos_infra],DataSourceInfo.DisplayName,Tk_Tipo_Evento)
                                                                                          Required: =false
                                                                                          Update: =DataCardValue26_2.Selected
                                                                                          Width: =Parent.Width/3
                                                                                          X: =0
                                                                                          Y: =0
                                                                                        Children:
                                                                                          - DataCardKey26_2:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldName
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =34
                                                                                                Size: =12
                                                                                                Text: ="TIPO EVENTO"
                                                                                                Width: =Parent.Width - 20
                                                                                                Wrap: =false
                                                                                                X: =10
                                                                                                Y: =10
                                                                                          - Container62:
                                                                                              Control: GroupContainer@1.3.0
                                                                                              Variant: ManualLayout
                                                                                              Properties:
                                                                                                BorderStyle: =BorderStyle.None
                                                                                                DropShadow: =DropShadow.None
                                                                                                Height: =30
                                                                                                RadiusBottomLeft: =5
                                                                                                RadiusBottomRight: =5
                                                                                                RadiusTopLeft: =5
                                                                                                RadiusTopRight: =5
                                                                                                Width: =Parent.Width - 20
                                                                                                X: =10
                                                                                                Y: =DataCardKey26_2.Y + DataCardKey26_2.Height + 5
                                                                                              Children:
                                                                                                - DataCardValue26_2:
                                                                                                    Control: Classic/ComboBox@2.4.0
                                                                                                    Properties:
                                                                                                      BorderColor: =If(IsBlank(Tk_Tipo_Evento_DataCard1.Error), Parent.BorderColor, Color.Red)
                                                                                                      BorderStyle: =BorderStyle.None
                                                                                                      BorderThickness: =0
                                                                                                      ChevronFill: =RGBA(255, 255, 255, 1)
                                                                                                      ChevronHoverFill: =RGBA(255, 255, 255, 1)
                                                                                                      DefaultSelectedItems: =Tk_Tipo_Evento_DataCard1.Default
                                                                                                      DisplayFields: =["Value"]
                                                                                                      DisplayMode: =Parent.DisplayMode
                                                                                                      FocusedBorderThickness: =1
                                                                                                      Height: =Parent.Height
                                                                                                      HoverFill: =RGBA(186, 202, 226, 1)
                                                                                                      InputTextPlaceholder: ="Selecione o evento"
                                                                                                      Items: =Choices([@db_eventos_infra].Tk_Tipo_Evento)
                                                                                                      PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                                                                                      PressedColor: =RGBA(255, 255, 255, 1)
                                                                                                      SearchFields: =["Value"]
                                                                                                      SelectMultiple: =false
                                                                                                      SelectionColor: =RGBA(255, 255, 255, 1)
                                                                                                      SelectionFill: =RGBA(56, 96, 178, 1)
                                                                                                      Size: =11
                                                                                                      Tooltip: =Tk_Tipo_Evento_DataCard1.DisplayName
                                                                                                      Width: =Parent.Width
                                                                                          - ErrorMessage26_2:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: ErrorMessage
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =RGBA(168, 0, 0, 1)
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =10
                                                                                                Live: =Live.Assertive
                                                                                                PaddingBottom: =0
                                                                                                PaddingLeft: =0
                                                                                                PaddingRight: =0
                                                                                                PaddingTop: =0
                                                                                                Size: =14
                                                                                                Text: =Parent.Error
                                                                                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                                                                                Width: |
                                                                                                  =Parent.Width - 20
                                                                                                X: =10
                                                                                                Y: =DataCardValue26_2.Y + DataCardValue26_2.Height
                                                                                          - StarVisible26_2:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldRequired
                                                                                              Properties:
                                                                                                Align: =Align.Center
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                Height: =DataCardKey26_2.Height
                                                                                                Text: ="*"
                                                                                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                                                                                Width: =10
                                                                                                Wrap: =false
                                                                                                Y: =DataCardKey26_2.Y
                                                                                    - Tk_Data_Inicio_Evento_DataCard1:
                                                                                        Control: TypedDataCard@1.0.7
                                                                                        Variant: ClassicDateEdit
                                                                                        Properties:
                                                                                          BorderColor: =App.Theme.Colors.Darker30
                                                                                          DataField: ="Tk_Data_Inicio_Evento"
                                                                                          Default: =ThisItem.Tk_Data_Inicio_Evento
                                                                                          DisplayName: =DataSourceInfo([@db_eventos_infra],DataSourceInfo.DisplayName,Tk_Data_Inicio_Evento)
                                                                                          Required: =false
                                                                                          Update: =DataCardValue27_2.SelectedDate
                                                                                          Width: =Parent.Width/3
                                                                                          X: =2
                                                                                          Y: =0
                                                                                        Children:
                                                                                          - DataCardKey27_2:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldName
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =34
                                                                                                Size: =12
                                                                                                Text: ="DATA INÍCIO"
                                                                                                Width: =Parent.Width - 20
                                                                                                Wrap: =false
                                                                                                X: =10
                                                                                                Y: =10
                                                                                          - Container63:
                                                                                              Control: GroupContainer@1.3.0
                                                                                              Variant: ManualLayout
                                                                                              Properties:
                                                                                                BorderStyle: =BorderStyle.None
                                                                                                DropShadow: =DropShadow.None
                                                                                                Height: =30
                                                                                                RadiusBottomLeft: =5
                                                                                                RadiusBottomRight: =5
                                                                                                RadiusTopLeft: =5
                                                                                                RadiusTopRight: =5
                                                                                                Width: =Parent.Width - 20
                                                                                                X: =10
                                                                                                Y: =DataCardKey27_2.Y + DataCardKey27_2.Height + 5
                                                                                              Children:
                                                                                                - DataCardValue27_2:
                                                                                                    Control: Classic/DatePicker@2.6.0
                                                                                                    Properties:
                                                                                                      BorderColor: =If(IsBlank(Tk_Data_Inicio_Evento_DataCard1.Error), Parent.BorderColor, Color.Red)
                                                                                                      BorderStyle: =BorderStyle.None
                                                                                                      BorderThickness: =0
                                                                                                      DefaultDate: =If(DataCardValue26_2.Selected.Value = "Atendente Selecionado" && Not(EditarHistorico), Today(), Tk_Data_Inicio_Evento_DataCard1.Default)
                                                                                                      DisplayMode: =Parent.DisplayMode
                                                                                                      EndYear: =Year(Today())+100
                                                                                                      FocusedBorderThickness: =1
                                                                                                      Height: =Parent.Height
                                                                                                      IconFill: =RGBA(255, 255, 255, 1)
                                                                                                      IsEditable: =true
                                                                                                      PaddingBottom: =0
                                                                                                      PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                                                                                      Size: =11
                                                                                                      StartYear: =1899
                                                                                                      Tooltip: =Tk_Data_Inicio_Evento_DataCard1.DisplayName
                                                                                                      Width: =Parent.Width
                                                                                          - ErrorMessage27_2:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: ErrorMessage
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =RGBA(168, 0, 0, 1)
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =10
                                                                                                Live: =Live.Assertive
                                                                                                PaddingBottom: =0
                                                                                                PaddingLeft: =0
                                                                                                PaddingRight: =0
                                                                                                PaddingTop: =0
                                                                                                Size: =14
                                                                                                Text: =Parent.Error
                                                                                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                                                                                Width: =Parent.Width - 20
                                                                                                X: =10
                                                                                                Y: =DataCardValue27_2.Y + DataCardValue27_2.Height
                                                                                          - StarVisible27_2:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldRequired
                                                                                              Properties:
                                                                                                Align: =Align.Center
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                Height: =DataCardKey27_2.Height
                                                                                                Text: ="*"
                                                                                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                                                                                Width: =10
                                                                                                Wrap: =false
                                                                                                Y: =DataCardKey27_2.Y
                                                                                    - Tk_Data_Termino_Evento_DataCard1:
                                                                                        Control: TypedDataCard@1.0.7
                                                                                        Variant: ClassicDateEdit
                                                                                        Properties:
                                                                                          BorderColor: =App.Theme.Colors.Darker30
                                                                                          DataField: ="Tk_Data_Termino_Evento"
                                                                                          Default: =ThisItem.Tk_Data_Termino_Evento
                                                                                          DisplayName: =DataSourceInfo([@db_eventos_infra],DataSourceInfo.DisplayName,Tk_Data_Termino_Evento)
                                                                                          Required: =false
                                                                                          Update: =DataCardValue28_2.SelectedDate
                                                                                          Width: =Parent.Width/3
                                                                                          X: =3
                                                                                          Y: =0
                                                                                        Children:
                                                                                          - DataCardKey28_2:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldName
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =34
                                                                                                Size: =12
                                                                                                Text: ="DATA TÉRMINO"
                                                                                                Width: =Parent.Width - 20
                                                                                                Wrap: =false
                                                                                                X: =10
                                                                                                Y: =10
                                                                                          - Container64:
                                                                                              Control: GroupContainer@1.3.0
                                                                                              Variant: ManualLayout
                                                                                              Properties:
                                                                                                BorderStyle: =BorderStyle.None
                                                                                                DropShadow: =DropShadow.None
                                                                                                Height: =30
                                                                                                RadiusBottomLeft: =5
                                                                                                RadiusBottomRight: =5
                                                                                                RadiusTopLeft: =5
                                                                                                RadiusTopRight: =5
                                                                                                Width: =Parent.Width - 20
                                                                                                X: =10
                                                                                                Y: =DataCardKey28_2.Y + DataCardKey28_2.Height + 5
                                                                                              Children:
                                                                                                - DataCardValue28_2:
                                                                                                    Control: Classic/DatePicker@2.6.0
                                                                                                    Properties:
                                                                                                      BorderColor: =If(IsBlank(Tk_Data_Termino_Evento_DataCard1.Error), Parent.BorderColor, Color.Red)
                                                                                                      BorderStyle: =BorderStyle.None
                                                                                                      BorderThickness: =0
                                                                                                      DefaultDate: =If(DataCardValue26_2.Selected.Value = "Atendente Selecionado", Today(), Tk_Data_Termino_Evento_DataCard1.Default)
                                                                                                      DisplayMode: =Parent.DisplayMode
                                                                                                      EndYear: =Year(Today())+100
                                                                                                      FocusedBorderThickness: =1
                                                                                                      Height: =Parent.Height
                                                                                                      IconFill: =RGBA(255, 255, 255, 1)
                                                                                                      IsEditable: =true
                                                                                                      PaddingBottom: =0
                                                                                                      PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                                                                                      Size: =11
                                                                                                      StartYear: =1899
                                                                                                      Tooltip: =Tk_Data_Termino_Evento_DataCard1.DisplayName
                                                                                                      Width: =Parent.Width
                                                                                          - ErrorMessage28_2:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: ErrorMessage
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =RGBA(168, 0, 0, 1)
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =10
                                                                                                Live: =Live.Assertive
                                                                                                PaddingBottom: =0
                                                                                                PaddingLeft: =0
                                                                                                PaddingRight: =0
                                                                                                PaddingTop: =0
                                                                                                Size: =14
                                                                                                Text: =Parent.Error
                                                                                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                                                                                Width: =Parent.Width - 20
                                                                                                X: =10
                                                                                                Y: =DataCardValue28_2.Y + DataCardValue28_2.Height
                                                                                          - StarVisible28_2:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldRequired
                                                                                              Properties:
                                                                                                Align: =Align.Center
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                Height: =DataCardKey28_2.Height
                                                                                                Text: ="*"
                                                                                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                                                                                Width: =10
                                                                                                Wrap: =false
                                                                                                Y: =DataCardKey28_2.Y
                                                                                    - Observação_DataCard3:
                                                                                        Control: TypedDataCard@1.0.7
                                                                                        Variant: ClassicRichTextEditorEdit
                                                                                        Properties:
                                                                                          BorderColor: =App.Theme.Colors.Darker30
                                                                                          DataField: ="Observa_x00e7__x00e3_o"
                                                                                          Default: =ThisItem.Observação
                                                                                          DisplayName: =DataSourceInfo([@db_eventos_infra],DataSourceInfo.DisplayName,Observa_x00e7__x00e3_o)
                                                                                          Height: =280
                                                                                          Required: =false
                                                                                          Update: =DataCardValue33.HtmlText
                                                                                          Visible: =If(DataCardValue26_2.Selected.Value = "Cancelamento", false, true)
                                                                                          Width: =Parent.Width
                                                                                          X: =2
                                                                                          Y: =1
                                                                                        Children:
                                                                                          - DataCardKey33:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldName
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =34
                                                                                                Size: =12
                                                                                                Text: ="OBSERVAÇÃO"
                                                                                                Width: =Parent.Width - 20
                                                                                                Wrap: =false
                                                                                                X: =10
                                                                                                Y: =10
                                                                                          - DataCardValue33:
                                                                                              Control: RichTextEditor@2.7.0
                                                                                              MetadataKey: FieldValue
                                                                                              Properties:
                                                                                                BorderColor: =App.Theme.Colors.Darker30
                                                                                                Default: =Parent.Default
                                                                                                DisplayMode: =Parent.DisplayMode
                                                                                                Height: =220
                                                                                                Width: |
                                                                                                  =Parent.Width - 20
                                                                                                X: =10
                                                                                                Y: =DataCardKey33.Y + DataCardKey33.Height + 5
                                                                                          - ErrorMessage33:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: ErrorMessage
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =RGBA(168, 0, 0, 1)
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =10
                                                                                                Live: =Live.Assertive
                                                                                                PaddingBottom: =0
                                                                                                PaddingLeft: =0
                                                                                                PaddingRight: =0
                                                                                                PaddingTop: =0
                                                                                                Size: =14
                                                                                                Text: =Parent.Error
                                                                                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                                                                                Width: =Parent.Width - 20
                                                                                                X: =10
                                                                                                Y: =DataCardValue33.Y + DataCardValue33.Height
                                                                                          - StarVisible33:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldRequired
                                                                                              Properties:
                                                                                                Align: =Align.Center
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                Height: =DataCardKey33.Height
                                                                                                Text: ="*"
                                                                                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                                                                                Width: =10
                                                                                                Wrap: =false
                                                                                                Y: =DataCardKey33.Y
                                                                                    - Tk_Motivo_Cancelamento_DataCard3:
                                                                                        Control: TypedDataCard@1.0.7
                                                                                        Variant: ClassicRichTextEditorEdit
                                                                                        Properties:
                                                                                          BorderColor: =App.Theme.Colors.Darker30
                                                                                          DataField: ="Tk_Motivo_Cancelamento"
                                                                                          Default: =ThisItem.Tk_Motivo_Cancelamento
                                                                                          DisplayName: =DataSourceInfo([@db_eventos_infra],DataSourceInfo.DisplayName,Tk_Motivo_Cancelamento)
                                                                                          Height: =280
                                                                                          Required: =false
                                                                                          Update: =DataCardValue30_2.HtmlText
                                                                                          Visible: =If(DataCardValue26_2.Selected.Value = "Cancelamento", true, false)
                                                                                          Width: =If(!Self.Visible, 0 , Parent.Width)
                                                                                          X: =0
                                                                                          Y: =2
                                                                                        Children:
                                                                                          - DataCardKey30_2:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldName
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =34
                                                                                                Size: =12
                                                                                                Text: ="MOTIVO CANCELAMENTO"
                                                                                                Width: =Parent.Width - 20
                                                                                                Wrap: =false
                                                                                                X: =10
                                                                                                Y: =10
                                                                                          - DataCardValue30_2:
                                                                                              Control: RichTextEditor@2.7.0
                                                                                              MetadataKey: FieldValue
                                                                                              Properties:
                                                                                                BorderColor: =App.Theme.Colors.Darker30
                                                                                                Default: =Parent.Default
                                                                                                DisplayMode: =Parent.DisplayMode
                                                                                                Height: =220
                                                                                                Width: =Parent.Width - 20
                                                                                                X: =10
                                                                                                Y: =DataCardKey30_2.Y + DataCardKey30_2.Height + 5
                                                                                          - ErrorMessage30:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: ErrorMessage
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =RGBA(168, 0, 0, 1)
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =10
                                                                                                Live: =Live.Assertive
                                                                                                PaddingBottom: =0
                                                                                                PaddingLeft: =0
                                                                                                PaddingRight: =0
                                                                                                PaddingTop: =0
                                                                                                Size: =14
                                                                                                Text: =Parent.Error
                                                                                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                                                                                Width: =Parent.Width - 20
                                                                                                X: =10
                                                                                                Y: =DataCardValue30_2.Y + DataCardValue30_2.Height
                                                                                          - StarVisible30:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldRequired
                                                                                              Properties:
                                                                                                Align: =Align.Center
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                Height: =DataCardKey30_2.Height
                                                                                                Text: ="*"
                                                                                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                                                                                Width: =10
                                                                                                Wrap: =false
                                                                                                Y: =DataCardKey30_2.Y
                                                                                    - Tk_TicketID_DataCard1:
                                                                                        Control: TypedDataCard@1.0.7
                                                                                        Variant: ClassicTextualEdit
                                                                                        Properties:
                                                                                          BorderColor: =App.Theme.Colors.Darker30
                                                                                          DataField: ="Tk_TicketID"
                                                                                          Default: =ThisItem.Tk_TicketID
                                                                                          DisplayName: =DataSourceInfo([@db_eventos_infra],DataSourceInfo.DisplayName,Tk_TicketID)
                                                                                          MaxLength: =DataSourceInfo([@db_eventos_infra], DataSourceInfo.MaxLength, Tk_TicketID)
                                                                                          Required: =false
                                                                                          Update: =DataCardValue25_3.Text
                                                                                          Visible: =false
                                                                                          Width: =300
                                                                                          X: =1
                                                                                          Y: =2
                                                                                        Children:
                                                                                          - DataCardKey25_3:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldName
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =34
                                                                                                Size: =12
                                                                                                Text: =Parent.DisplayName
                                                                                                Width: =Parent.Width - 60
                                                                                                Wrap: =false
                                                                                                X: =30
                                                                                                Y: =10
                                                                                          - DataCardValue25_3:
                                                                                              Control: Classic/TextInput@2.3.2
                                                                                              MetadataKey: FieldValue
                                                                                              Properties:
                                                                                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                                                                                Default: =loc_InfoTicket_dev.Ticket
                                                                                                DelayOutput: =true
                                                                                                DisplayMode: =Parent.DisplayMode
                                                                                                Height: =30
                                                                                                HoverBorderColor: =App.Theme.Colors.Darker30
                                                                                                HoverFill: =RGBA(186, 202, 226, 1)
                                                                                                MaxLength: =Parent.MaxLength
                                                                                                PaddingLeft: =5
                                                                                                RadiusBottomLeft: =0
                                                                                                RadiusBottomRight: =0
                                                                                                RadiusTopLeft: =0
                                                                                                RadiusTopRight: =0
                                                                                                Size: =11
                                                                                                Tooltip: =Parent.DisplayName
                                                                                                Width: =Parent.Width - 60
                                                                                                X: =30
                                                                                                Y: =DataCardKey25_3.Y + DataCardKey25_3.Height + 5
                                                                                          - ErrorMessage25_2:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: ErrorMessage
                                                                                              Properties:
                                                                                                AutoHeight: =true
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =RGBA(168, 0, 0, 1)
                                                                                                FontWeight: =FontWeight.Semibold
                                                                                                Height: =10
                                                                                                Live: =Live.Assertive
                                                                                                PaddingBottom: =0
                                                                                                PaddingLeft: =0
                                                                                                PaddingRight: =0
                                                                                                PaddingTop: =0
                                                                                                Size: =14
                                                                                                Text: =Parent.Error
                                                                                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                                                                                Width: =Parent.Width - 60
                                                                                                X: =30
                                                                                                Y: =DataCardValue25_3.Y + DataCardValue25_3.Height
                                                                                          - StarVisible25_2:
                                                                                              Control: Label@2.5.1
                                                                                              MetadataKey: FieldRequired
                                                                                              Properties:
                                                                                                Align: =Align.Center
                                                                                                BorderColor: =RGBA(0, 0, 0, 1)
                                                                                                Color: =App.Theme.Colors.Darker30
                                                                                                Height: =DataCardKey25_3.Height
                                                                                                Text: ="*"
                                                                                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                                                                                Width: =10
                                                                                                Wrap: =false
                                                                                                Y: =DataCardKey25_3.Y
                                                                        - Container46_3:
                                                                            Control: GroupContainer@1.3.0
                                                                            Variant: ManualLayout
                                                                            Properties:
                                                                              BorderStyle: =BorderStyle.None
                                                                              DropShadow: =DropShadow.None
                                                                              FillPortions: =0
                                                                              Height: =Medidas.Espacamento
                                                                              RadiusBottomLeft: =0
                                                                              RadiusBottomRight: =0
                                                                              RadiusTopLeft: =0
                                                                              RadiusTopRight: =0
                                                                  - Container47:
                                                                      Control: GroupContainer@1.3.0
                                                                      Variant: ManualLayout
                                                                      Properties:
                                                                        DropShadow: =DropShadow.None
                                                                        FillPortions: =0
                                                                        Height: =50
                                                                        RadiusBottomLeft: =0
                                                                        RadiusBottomRight: =0
                                                                        RadiusTopLeft: =0
                                                                        RadiusTopRight: =0
                                                                      Children:
                                                                        - Button4_4:
                                                                            Control: Classic/Button@2.2.0
                                                                            Properties:
                                                                              BorderColor: =ColorFade(Self.Fill, -15%)
                                                                              Color: =RGBA(255, 255, 255, 1)
                                                                              DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                                                              Fill: =RGBA(45, 65, 93, 1)
                                                                              Height: =Parent.Height
                                                                              HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                                                                              HoverColor: =RGBA(255, 255, 255, 1)
                                                                              HoverFill: =ColorFade(EsquemaDeCores.AzulEscuroBonin.Cor, -20%)
                                                                              OnSelect: |-
                                                                                =If(DataCardValue26_2.Selected.Value = "Abertura do Ticket",
                                                                                    UpdateContext({AtualizacaoHistorico:false});
                                                                                    UpdateContext({EditarHistorico:false});
                                                                                    SubmitForm(Form_Lancamento_Historico),
                                                                                If(DataCardValue26_2.Selected.Value = "Atendente Selecionado",
                                                                                    Patch(
                                                                                        db_tickets_dev,
                                                                                        LookUp(db_tickets_dev, Tk_Ticket = loc_InfoTicket_dev.Ticket),
                                                                                        {
                                                                                            Tk_Status_Ticket: "Iniciado"
                                                                                        }
                                                                                    );
                                                                                    'BONINHELPDESK-ATUALIZAÇÃODEEVENTOS'.Run(loc_InfoTicket_dev.Tk_Email_Solicitante,
                                                                                        loc_InfoTicket_dev.Nome_Solicitante,
                                                                                        Requisicao,
                                                                                        loc_InfoTicket_dev.Ticket,
                                                                                        "Iniciado",
                                                                                        DataCardValue26_2.Selected.Value,
                                                                                        UsuáriosdoOffice365.UserProfile(DataCardValue22_4.Selected.Value).DisplayName
                                                                                    );
                                                                                    UpdateContext({AtualizacaoHistorico:false});
                                                                                    UpdateContext({EditarHistorico:false});
                                                                                    SubmitForm(Form_Lancamento_Historico);
                                                                                    SubmitForm(Form_Selecao_Atendente_1),
                                                                                If(DataCardValue26_2.Selected.Value = "Atendimento",
                                                                                    Patch(
                                                                                        db_tickets_dev,
                                                                                        LookUp(db_tickets_dev, Tk_Ticket = loc_InfoTicket_dev.Ticket),
                                                                                        {
                                                                                            Tk_Status_Ticket: "Em Andamento"
                                                                                        }
                                                                                    );
                                                                                    'BONINHELPDESK-ATUALIZAÇÃODEEVENTOS'.Run(loc_InfoTicket_dev.Tk_Email_Solicitante,
                                                                                        loc_InfoTicket_dev.Nome_Solicitante,
                                                                                        Requisicao,
                                                                                        loc_InfoTicket_dev.Ticket,
                                                                                        "Em Andamento",
                                                                                        DataCardValue26_2.Selected.Value,
                                                                                        UsuáriosdoOffice365.UserProfile(loc_InfoTicket_dev.Tk_Atendente.Value).DisplayName
                                                                                    );
                                                                                    UpdateContext({AtualizacaoHistorico:false});
                                                                                    UpdateContext({EditarHistorico:false});
                                                                                    SubmitForm(Form_Lancamento_Historico),
                                                                                If(DataCardValue26_2.Selected.Value = "Pausa no Atendimento",
                                                                                    Patch(
                                                                                        db_tickets_dev,
                                                                                        LookUp(db_tickets_dev, Tk_Ticket = loc_InfoTicket_dev.Ticket),
                                                                                        {
                                                                                            Tk_Status_Ticket: "Suspensão"
                                                                                        }
                                                                                    );
                                                                                    'BONINHELPDESK-ATUALIZAÇÃODEEVENTOS'.Run(loc_InfoTicket_dev.Tk_Email_Solicitante,
                                                                                        loc_InfoTicket_dev.Nome_Solicitante,
                                                                                        Requisicao,
                                                                                        loc_InfoTicket_dev.Ticket,
                                                                                        "Suspensão",
                                                                                        DataCardValue26_2.Selected.Value,
                                                                                        UsuáriosdoOffice365.UserProfile(loc_InfoTicket_dev.Tk_Atendente.Value).DisplayName
                                                                                    );
                                                                                    UpdateContext({AtualizacaoHistorico:false});
                                                                                    UpdateContext({EditarHistorico:false});
                                                                                    SubmitForm(Form_Lancamento_Historico),
                                                                                If(DataCardValue26_2.Selected.Value = "Cancelamento",
                                                                                    Patch(
                                                                                        db_tickets_dev,
                                                                                        LookUp(db_tickets_dev, Tk_Ticket = loc_InfoTicket_dev.Ticket),
                                                                                        {
                                                                                            Tk_Status_Ticket: "Cancelado"
                                                                                        }
                                                                                    );
                                                                                    'BONINHELPDESK-ATUALIZAÇÃODEEVENTOS'.Run(loc_InfoTicket_dev.Tk_Email_Solicitante,
                                                                                        loc_InfoTicket_dev.Nome_Solicitante,
                                                                                        Requisicao,
                                                                                        loc_InfoTicket_dev.Ticket,
                                                                                        "Suspensão",
                                                                                        DataCardValue26_2.Selected.Value,
                                                                                        UsuáriosdoOffice365.UserProfile(loc_InfoTicket_dev.Tk_Atendente.Value).DisplayName
                                                                                    );
                                                                                    UpdateContext({AtualizacaoHistorico:false});
                                                                                    UpdateContext({EditarHistorico:false});
                                                                                    SubmitForm(Form_Lancamento_Historico),
                                                                                If(DataCardValue26_2.Selected.Value = "Concluído",
                                                                                    Patch(
                                                                                        db_tickets_dev,
                                                                                        LookUp(db_tickets_dev, Tk_Ticket = loc_InfoTicket_dev.Ticket),
                                                                                        {
                                                                                            Tk_Status_Ticket: "Concluído"
                                                                                        }
                                                                                    );
                                                                                    Patch(
                                                                                        db_nps_dev,
                                                                                        Defaults(db_nps_dev),
                                                                                        {
                                                                                            Tk_TicketID: loc_InfoTicket_dev.Ticket,
                                                                                            Tk_Status_NPS: "Aguardando Pesquisa",
                                                                                            Tk_Solicitante: loc_InfoTicket_dev.Tk_Email_Solicitante
                                                                                        }
                                                                                    );
                                                                                    'BONINHELPDESK-ATUALIZAÇÃODEEVENTOS'.Run(loc_InfoTicket_dev.Tk_Email_Solicitante,
                                                                                        loc_InfoTicket_dev.Nome_Solicitante,
                                                                                        Requisicao,
                                                                                        loc_InfoTicket_dev.Ticket,
                                                                                        "Concluído",
                                                                                        DataCardValue26_2.Selected.Value,
                                                                                        UsuáriosdoOffice365.UserProfile(loc_InfoTicket_dev.Tk_Atendente.Value).DisplayName
                                                                                    );
                                                                                    UpdateContext({AtualizacaoHistorico:false});
                                                                                    UpdateContext({EditarHistorico:false});
                                                                                    SubmitForm(Form_Lancamento_Historico)
                                                                                ))))));
                                                                                ClearCollect(colTicketDev_Atendimento, Filter(db_tickets_dev, Tk_Ticket = loc_InfoTicket_dev.Ticket));
                                                                                UpdateContext({loc_InfoTicket_dev: First(colTicketDev_Atendimento)});
                                                                              PressedBorderColor: =Self.Fill
                                                                              PressedColor: =Self.Fill
                                                                              PressedFill: =Self.Color
                                                                              Text: ="LANÇAR"
                                                                              Width: =Parent.Width
                        - Container15_25:
                            Control: GroupContainer@1.3.0
                            Variant: ManualLayout
                            Properties:
                              BorderStyle: =BorderStyle.None
                              DropShadow: =DropShadow.None
                              Fill: =RGBA(255, 255, 255, 0.8)
                              Height: =Parent.Height
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                              Visible: =VarCnDeletar
                              Width: =Parent.Width
                            Children:
                              - Container18_15:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    Fill: =RGBA(241, 244, 249, 1)
                                    Height: =400
                                    RadiusBottomLeft: =10
                                    RadiusBottomRight: =10
                                    RadiusTopLeft: =10
                                    RadiusTopRight: =10
                                    Width: =800
                                    X: =Parent.Width/2 - Self.Width/2
                                    Y: =Parent.Height/2 - Self.Height/2
                                  Children:
                                    - Label2:
                                        Control: Label@2.5.1
                                        Properties:
                                          Align: =Align.Center
                                          BorderColor: =App.Theme.Colors.Darker30
                                          Height: =133
                                          Size: =12
                                          Text: ="Gostaria de deletar o chamado " & Char(13)  & varDeletar.Tk_Ticket & Char(13) & Char(13) & varDeletar.Tk_Tipo_Ticket & Char(13) & Char(13) & varDeletar.Tk_Empresa_Solicitante
                                          Width: =Parent.Width
                                    - HtmlText1_4:
                                        Control: HtmlViewer@2.1.0
                                        Properties:
                                          Height: =Parent.Height
                                          HtmlText: "=\"<div style='\r\n    max-width: 100%;\r\n    border: 1px solid #e0e0e0;\r\n    border-radius: 10px;\r\n    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n    padding: 16px;\r\n    background-color: #ffffff;\r\n    font-family: \"& App.Theme.Font & \", Arial, sans-serif;\r\n    color: #333;\r\n'>\r\n  <h3 style='\r\n      margin-top: 0;\r\n      margin-bottom: 12px;\r\n      font-size: 18pt;\r\n      color: #d32f2f;\r\n  '>\r\n    ⚠️ Confirmação de Exclusão\r\n  </h3>\r\n  \r\n  <p style='\r\n      margin: 8px 0;\r\n      font-size: 16pt;\r\n      line-height: 1.4;\r\n  '>\r\n    Gostaria de deletar o chamado:\r\n  </p>\r\n  \r\n  <div style='\r\n      background-color: #f5f5f5;\r\n      border-radius: 6px;\r\n      padding: 10px;\r\n      margin-bottom: 8px;\r\n  '>\r\n    <p style='margin: 0; font-size: 16pt; font-weight: bold; color: #1976d2;'>\" \r\n    & varDeletar.Tk_Ticket &\r\n    \"</p>\r\n  </div>\r\n  \r\n  <p style='\r\n      margin: 6px 0 2px 0;\r\n      font-size: 16pt;\r\n      font-weight: bold;\r\n      color: #555;\r\n  '>\r\n    Tipo do Chamado:\r\n  </p>\r\n  <p style='\r\n      margin: 2px 0 10px 0;\r\n      font-size: 16pt;\r\n      color: #777;\r\n  '>\r\n    \" & varDeletar.Tk_Tipo_Ticket &\r\n  \"</p>\r\n  \r\n  <p style='\r\n      margin: 6px 0 2px 0;\r\n      font-size: 16pt;\r\n      font-weight: bold;\r\n      color: #555;\r\n  '>\r\n    Empresa Solicitante:\r\n  </p>\r\n  <p style='\r\n      margin: 2px 0 0 0;\r\n      font-size: 16pt;\r\n      color: #777;\r\n  '>\r\n    \" & varDeletar.Tk_Empresa_Solicitante &\r\n  \"</p>\r\n</div>\"\r\n"
                                          Width: =Parent.Width
                                    - Button7:
                                        Control: Classic/Button@2.2.0
                                        Properties:
                                          BorderColor: =ColorFade(Self.Fill, -15%)
                                          BorderThickness: =1
                                          Color: =RGBA(255, 255, 255, 1)
                                          DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                          Fill: =RGBA(56, 96, 178, 1)
                                          FocusedBorderThickness: =1
                                          HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                                          HoverColor: =RGBA(255, 255, 255, 1)
                                          HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                                          OnSelect: |-
                                            =UpdateContext({varDeletar: Blank()});
                                            UpdateContext({VarCnDeletar: false});
                                          PressedBorderColor: =Self.Fill
                                          PressedColor: =Self.Fill
                                          PressedFill: =Self.Color
                                          Text: ="Não"
                                          X: =Parent.Width/2 + 20
                                          Y: =Parent.Height - Self.Height - 20
                                    - Button6:
                                        Control: Classic/Button@2.2.0
                                        Properties:
                                          BorderColor: =ColorFade(Self.Fill, -15%)
                                          BorderThickness: =1
                                          Color: =RGBA(255, 255, 255, 1)
                                          DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                          Fill: =RGBA(56, 96, 178, 1)
                                          FocusedBorderThickness: =1
                                          HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                                          HoverColor: =RGBA(255, 255, 255, 1)
                                          HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                                          OnSelect: |
                                            =// 1. Busca os registros que devem ser excluídos em coleções temporárias
                                            ClearCollect(colExcluir_eventos, Filter(db_eventos_dev, Tk_TicketID = varDeletar.Tk_Ticket));
                                            ClearCollect(colExcluir_nps, Filter(db_nps_dev, Tk_TicketID = varDeletar.Tk_Ticket));
                                            ClearCollect(colExcluir_tickets, Filter(db_tickets_dev, Tk_Ticket = varDeletar.Tk_Ticket));

                                            // 2. Exclui um a um usando as coleções
                                            ForAll(colExcluir_eventos, Remove(db_eventos_dev, ThisRecord));
                                            ForAll(colExcluir_nps, Remove(db_nps_dev, ThisRecord));
                                            ForAll(colExcluir_tickets, Remove(db_tickets_dev, ThisRecord));

                                            // 3. Notificação de sucesso
                                            Notify("Chamado e registros relacionados excluídos com sucesso!", NotificationType.Success);

                                            // 4. Limpa coleções temporárias e variáveis de controle
                                            Clear(colExcluir_eventos);
                                            Clear(colExcluir_nps);
                                            Clear(colExcluir_tickets);
                                            UpdateContext({varDeletar: Blank()});
                                            UpdateContext({VarCnDeletar: false});
                                          PressedBorderColor: =Self.Fill
                                          PressedColor: =Self.Fill
                                          PressedFill: =Self.Color
                                          Text: ="Sim"
                                          X: =Parent.Width/2 - Self.Width - 20
                                          Y: =Parent.Height - Self.Height - 20
      - sigd_bonin_sidebar_28:
          Control: CanvasComponent
          ComponentName: sigd_bonin_sidebar
          Group: sigd_layout_28
          Properties:
            Espaçamento: =Medidas.Espacamento
            EsquemaDeCores: =EsquemaDeCores
            EstadoMenuEntrada: =gblFecharMenu
            Height: =Self.TelaAltura
            LarguraMenuAberto: =240
            LarguraMenuFechado: =80
            LarguraSubmenu: =240
            ListaDasTelas: =colTelas
            ListaDeIcones: =ColLogo
            OnSelect: =
            RaioDaBorda: ="10px 10px 10px 10px"
            TelaAltura: =Medidas.TelaAltura
            TelaLargura: =Medidas.TelaLargura
            Width: =Self.LarguraTotalSaida
      - sigd_bonin_cabecalho_28:
          Control: CanvasComponent
          ComponentName: sigd_bonin_cabecalho
          Group: sigd_layout_28
          Properties:
            AlturaCabeçalho: =50
            EixoX: =VarEixoXSideBar + VarLarguraSidebar
            EixoY: =VarEixoYSideBar
            EsquemaDeCores: =EsquemaDeCores
            Height: =sigd_bonin_cabecalho_28.AlturaCabeçalho
            ListaDasTelas: =colTelas
            Medidas: =Medidas
            RaioDaBorda: ="10px 10px 10px 10px"
            Width: =App.Width - VarLarguraSidebar
            X: =sigd_bonin_cabecalho_28.EixoX
            Y: =sigd_bonin_cabecalho_28.EixoY
