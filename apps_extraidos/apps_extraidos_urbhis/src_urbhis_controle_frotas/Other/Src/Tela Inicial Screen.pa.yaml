# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  Tela Inicial Screen:
    Properties:
      LoadingSpinnerColor: =RGBA(56, 96, 178, 1)
    Children:
      - Container1:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            BorderColor: =RGBA(122, 111, 150, 0.6)
            Fill: =RGBA(122, 111, 150, 0.6)
            Height: =Parent.Height
            Width: =Parent.Width
          Children:
            - Container2:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  BorderStyle: =BorderStyle.None
                  DropShadow: =DropShadow.None
                  Height: =Parent.Height - Self.Y * 2
                  LayoutDirection: =LayoutDirection.Vertical
                  RadiusBottomLeft: =0
                  RadiusBottomRight: =0
                  RadiusTopLeft: =0
                  RadiusTopRight: =0
                  Width: =Parent.Width - Self.X * 2
                  X: =10
                  Y: =10
                Children:
                  - TableNameLabel1:
                      Control: Label@2.5.1
                      Properties:
                        Align: =Align.Center
                        AlignInContainer: =AlignInContainer.Stretch
                        BorderColor: =RGBA(0, 0, 0, 1)
                        BorderStyle: =BorderStyle.None
                        Color: =RGBA(255, 255, 255, 1)
                        DisabledColor: =RGBA(186, 186, 186, 1)
                        Fill: =RGBA(122, 111, 150, 1)
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Semibold
                        Height: =100
                        LayoutMinHeight: =40
                        LayoutMinWidth: =150
                        PaddingBottom: =16
                        PaddingLeft: =16
                        PaddingRight: =16
                        PaddingTop: =16
                        Size: =25
                        Text: ="LANÇAMENTOS KM's"
                        Width: =150
                  - Container3:
                      Control: GroupContainer@1.3.0
                      Variant: ManualLayout
                      Properties:
                        BorderStyle: =BorderStyle.None
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        Height: =10
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                  - Container4:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        FillPortions: =0
                        Height: =100
                        LayoutDirection: =LayoutDirection.Vertical
                      Children:
                        - Select_Nome_Condutor:
                            Control: Classic/ComboBox@2.4.0
                            Properties:
                              AlignInContainer: =AlignInContainer.Stretch
                              BorderColor: =RGBA(245, 245, 245, 1)
                              ChevronBackground: =RGBA(245, 245, 245, 1)
                              ChevronDisabledBackground: =RGBA(242, 242, 241, 0)
                              ChevronDisabledFill: =RGBA(161, 159, 157, 1)
                              ChevronFill: =RGBA(50, 49, 48, 1)
                              ChevronHoverBackground: =RGBA(245, 245, 245, 1)
                              ChevronHoverFill: =RGBA(50, 49, 48, 1)
                              Color: =RGBA(50, 49, 48, 1)
                              DisabledBorderColor: =RGBA(0, 0, 0, 0)
                              DisabledColor: =RGBA(161, 159, 157, 1)
                              DisabledFill: =RGBA(242, 242, 241, 0)
                              DisplayFields: =["NomeCompleto"]
                              Fill: =RGBA(245, 245, 245, 1)
                              Font: =Font.Arial
                              Height: =40
                              HoverBorderColor: =RGBA(16, 110, 190, 1)
                              HoverColor: =RGBA(50, 49, 48, 1)
                              HoverFill: =RGBA(245, 245, 245, 1)
                              InputTextPlaceholder: ="Selecionar Condutor"
                              IsSearchable: =false
                              Items: |-
                                =Sort(
                                    Filter(
                                        dbCadastroFuncionario,
                                        Condutor = "Sim"
                                    ),
                                    NomeCompleto,
                                    SortOrder.Ascending
                                ).NomeCompleto
                              LayoutMinHeight: =40
                              LayoutMinWidth: =328
                              PressedBorderColor: =RGBA(16, 110, 190, 1)
                              PressedColor: =RGBA(255, 255, 255, 1)
                              PressedFill: =RGBA(0, 120, 212, 1)
                              SearchFields: =["NomeCompleto"]
                              SelectMultiple: =false
                              SelectionColor: =RGBA(255, 255, 255, 1)
                              SelectionFill: =RGBA(0, 120, 212, 1)
                              Size: =20
                              Width: =328
                        - Container6:
                            Control: GroupContainer@1.3.0
                            Variant: ManualLayout
                            Properties:
                              BorderStyle: =BorderStyle.None
                              DropShadow: =DropShadow.None
                              FillPortions: =0
                              Height: =10
                              LayoutMinHeight: =10
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                        - Container5:
                            Control: GroupContainer@1.3.0
                            Variant: ManualLayout
                            Properties:
                              LayoutMinHeight: =10
                            Children:
                              - Button1:
                                  Control: Classic/Button@2.2.0
                                  Properties:
                                    BorderColor: =ColorFade(Self.Fill, -15%)
                                    Color: =RGBA(255, 255, 255, 1)
                                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                    Fill: =RGBA(122, 111, 150, 1)
                                    Font: =Font.Arial
                                    Height: =50
                                    HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                                    HoverColor: =RGBA(255, 255, 255, 1)
                                    HoverFill: =ColorFade(RGBA(122, 111, 150, 1), -20%)
                                    OnSelect: |-
                                      =If(Select_Nome_Condutor.Selected.NomeCompleto = Blank(), Notify("Selecione um Condutor", NotificationType.Information),
                                      Navigate('Form Lançamento Screen');
                                      NewForm(Form_LancamentoKM); 
                                      UpdateContext({ newMode: true }));
                                    PressedBorderColor: =Self.Fill
                                    PressedColor: =Self.Fill
                                    PressedFill: =Self.Color
                                    Size: =20
                                    Text: ="NOVO LANÇAMENTO"
                                    Width: =Parent.Width
                              - NewRecordAddIcon1:
                                  Control: Classic/Icon@2.5.0
                                  Properties:
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    Color: =RGBA(255, 255, 255, 1)
                                    DisabledBorderColor: =RGBA(245, 245, 245, 1)
                                    DisabledColor: =RGBA(225, 223, 221, 1)
                                    DisabledFill: =RGBA(0, 0, 0, 0)
                                    FocusedBorderThickness: =4
                                    Height: =50
                                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                                    HoverColor: =RGBA(16, 110, 190, 1)
                                    HoverFill: =RGBA(0, 0, 0, 0)
                                    Icon: =Icon.Add
                                    OnSelect: |-
                                      =Navigate('Form Lançamento Screen');
                                      NewForm(Form_LancamentoKM); 
                                      UpdateContext({ newMode: true });
                                    PaddingBottom: =10
                                    PaddingLeft: =10
                                    PaddingRight: =10
                                    PaddingTop: =10
                                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                                    PressedColor: =RGBA(16, 110, 190, 1)
                                    PressedFill: =RGBA(0, 0, 0, 0)
                                    Width: =80
                  - Container3_1:
                      Control: GroupContainer@1.3.0
                      Variant: ManualLayout
                      Properties:
                        BorderStyle: =BorderStyle.None
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        Height: =10
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                  - RecordsGallery1:
                      Control: Gallery@2.15.0
                      Variant: BrowseLayout_Flexible_SocialFeed_ver5.0
                      Properties:
                        BorderColor: =RGBA(245, 245, 245, 1)
                        Default: =CurrentItem
                        Fill: =RGBA(250, 250, 250, 1)
                        Items: |-
                          =If(Select_Nome_Condutor.Selected.NomeCompleto = Blank(),Blank(),
                          Filter(dbLancamento_KM, Condutor = Select_Nome_Condutor.Selected.NomeCompleto))
                        LayoutMinWidth: =0
                        OnSelect: |-
                          =UpdateContext({ itemSelected: true, CurrentItem: ThisItem });
                          Navigate('Form Edição Screen');
                        TemplateFill: =If(ThisItem.IsSelected, RGBA(230, 230, 230, 1), RGBA(0, 0, 0, 0))
                        TemplatePadding: =0
                        TemplateSize: =120
                      Children:
                        - Gallery_Nome_Consudor:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 0, 0, 1)
                              DisabledColor: =RGBA(161, 159, 157, 1)
                              Font: =Font.Arial
                              FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                              Height: =58
                              OnSelect: =Select(Parent)
                              PaddingBottom: =0
                              PaddingLeft: =12
                              PaddingRight: =0
                              PaddingTop: =0
                              Size: =15
                              TabIndex: =0
                              Text: =ThisItem.Título
                              VerticalAlign: =VerticalAlign.Top
                              Width: =495
                              X: =110
                              Y: =10
                        - Icon1:
                            Control: Classic/Icon@2.5.0
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Color: =RGBA(0, 18, 107, 1)
                              Height: =Parent.TemplateHeight - Self.Y * 2
                              Icon: =Icon.Cars
                              OnSelect: =Select(Parent)
                              Width: =Self.Height
                              X: =10
                              Y: =10
                        - Gallery_Nome_Consudor_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 0, 0, 1)
                              DisabledColor: =RGBA(161, 159, 157, 1)
                              Font: =Font.Arial
                              FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                              Height: =42
                              OnSelect: =Select(Parent)
                              PaddingBottom: =0
                              PaddingLeft: =12
                              PaddingRight: =0
                              PaddingTop: =0
                              Size: =15
                              TabIndex: =0
                              Text: =Concatenate(LookUp(dbFrota, Placa = ThisItem.'Placa do Veículo', MarcaModelo), " - ", ThisItem.'Placa do Veículo')
                              VerticalAlign: =VerticalAlign.Top
                              Width: =495
                              X: =110
                              Y: =68
