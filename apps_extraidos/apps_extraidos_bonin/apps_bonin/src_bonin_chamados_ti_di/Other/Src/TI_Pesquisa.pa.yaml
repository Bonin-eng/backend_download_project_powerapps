# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  TI_Pesquisa:
    Properties:
      LoadingSpinnerColor: =RGBA(45, 65, 93, 1)
      OnVisible: =Set(varAnimarSVG, GUID());
    Children:
      - Container30_3:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            DropShadow: =DropShadow.None
            Fill: =RGBA(243, 244, 246, 1)
            Height: =Parent.Height
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =Parent.Width
          Children:
            - Container31_3:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  DropShadow: =DropShadow.None
                  Height: =Parent.Height
                  LayoutAlignItems: =LayoutAlignItems.Stretch
                  LayoutDirection: =LayoutDirection.Vertical
                  LayoutGap: =20
                  PaddingBottom: =15
                  PaddingLeft: =15
                  PaddingRight: =15
                  PaddingTop: =15
                  RadiusBottomLeft: =0
                  RadiusBottomRight: =0
                  RadiusTopLeft: =0
                  RadiusTopRight: =0
                  Width: =Parent.Width
                Children:
                  - Container32_3:
                      Control: GroupContainer@1.3.0
                      Variant: ManualLayout
                      Properties:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DropShadow: =DropShadow.Semilight
                        Fill: =RGBA(45, 65, 93, 1)
                        FillPortions: =0
                        Height: =75
                        RadiusBottomLeft: =10
                        RadiusBottomRight: =10
                        RadiusTopLeft: =10
                        RadiusTopRight: =10
                      Children:
                        - lbl_titulo_4:
                            Control: Label@2.5.1
                            Properties:
                              Align: =Align.Center
                              BorderColor: =RGBA(0, 18, 107, 1)
                              BorderStyle: =BorderStyle.None
                              Color: =RGBA(255, 255, 255, 1)
                              Font: =Font.'Segoe UI'
                              FontWeight: =FontWeight.Bold
                              Height: =Parent.Height
                              Size: =18
                              Text: ="PESQUISA DE SATISFA√á√ÉO DE CHAMADOS DE T.I."
                              Width: =Parent.Width
                  - Container33_3:
                      Control: GroupContainer@1.3.0
                      Variant: ManualLayout
                      Properties:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DropShadow: =DropShadow.Semilight
                        Fill: =RGBA(255, 255, 255, 1)
                        RadiusBottomLeft: =10
                        RadiusBottomRight: =10
                        RadiusTopLeft: =10
                        RadiusTopRight: =10
                      Children:
                        - Container34_3:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              DropShadow: =DropShadow.None
                              Height: =Parent.Height
                              LayoutDirection: =LayoutDirection.Vertical
                              LayoutGap: =20
                              PaddingBottom: =20
                              PaddingLeft: =20
                              PaddingRight: =20
                              PaddingTop: =20
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                              Width: =Parent.Width
                            Children:
                              - lbl_subtitulo_5:
                                  Control: Label@2.5.1
                                  Properties:
                                    Align: =Align.Center
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    BorderStyle: =BorderStyle.None
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Bold
                                    Size: =16
                                    Text: ="‚ú® Sua opini√£o faz a diferen√ßa! Avaliar o atendimento nos ajuda a evoluir e melhorar continuamente nossos servi√ßos."
                                    Width: =Parent.Width - Container34_3.PaddingLeft - Container34_3.PaddingRight
                              - lbl_subtitulo_7:
                                  Control: Label@2.5.1
                                  Properties:
                                    Align: =Align.Center
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    BorderStyle: =BorderStyle.None
                                    Color: =RGBA(77, 77, 77, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Size: =16
                                    Text: |-
                                      ="üìã Confira abaixo os atendimentos que aguardam sua avalia√ß√£o."
                                    Width: =Parent.Width - Container34_3.PaddingLeft - Container34_3.PaddingRight
                              - div_ti_op_6:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    PaddingLeft: =5
                                    PaddingRight: =5
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                  Children:
                                    - gal_TI_NPS:
                                        Control: Gallery@2.15.0
                                        Variant: VariableHeight
                                        Properties:
                                          BorderColor: =RGBA(45, 65, 93, 1)
                                          BorderStyle: =BorderStyle.None
                                          Fill: =RGBA(255, 255, 255, 1)
                                          Height: =Parent.Height - Self.Y
                                          Items: |-
                                            =SortByColumns(
                                                AddColumns(
                                                    Filter(
                                                        ShowColumns(
                                                            col_db_nps_infra,
                                                            ID_Referencia,
                                                            Tk_TicketID,
                                                            Tk_Status_NPS,
                                                            Tk_Solicitante
                                                        ),
                                                        Tk_Solicitante = VarUsuario.Email,
                                                        Tk_Status_NPS = "Aguardando Pesquisa"
                                                    ),
                                                    Tk_Tipo_Ticket,
                                                    LookUp(
                                                        colTiposRequisicaoTI,
                                                        Tipo_Ticket = LookUp(
                                                            col_db_tickets_infra,
                                                            Tk_Ticket = Tk_TicketID,
                                                            Tk_Tipo_Ticket
                                                        ),
                                                        Requisicao
                                                    ),
                                                    Tk_Atendente,
                                                    LookUp(
                                                        col_db_tickets_infra,
                                                        Tk_Ticket = Tk_TicketID,
                                                        Tk_Atendente
                                                    ),
                                                    Tk_Data_Abertura,
                                                    LookUp(
                                                        col_db_tickets_infra,
                                                        Tk_Ticket = Tk_TicketID,
                                                        Tk_Data_Abertura
                                                    ),
                                                    Tk_Descricao_Ocorrencia,
                                                    LookUp(
                                                        col_db_tickets_infra,
                                                        Tk_Ticket = Tk_TicketID,
                                                        Tk_Descricao_Ocorrencia
                                                    )
                                                ),
                                                "Tk_Data_Abertura",
                                                SortOrder.Ascending
                                            )
                                          ShowScrollbar: =false
                                          TemplatePadding: =0
                                          TemplateSize: =10
                                          Width: =Parent.Width - div_ti_op_6.PaddingLeft - div_ti_op_6.PaddingRight
                                          X: =Parent.Width/2 - Self.Width/2
                                        Children:
                                          - HtmlText1:
                                              Control: HtmlViewer@2.1.0
                                              Properties:
                                                AutoHeight: =true
                                                Font: =Font.'Open Sans'
                                                Height: =10
                                                HtmlText: "=With(\n    {\n        _t: ThisItem,\n        _dtConc: LookUp(col_db_eventos_infra, Tk_TicketID = ThisItem.Tk_TicketID && Tk_Tipo_Evento.Value = \"Conclu√≠do\", Tk_Data_Termino_Evento)\n    },\n    With({\n        _atNome: If(IsBlank(_t.Tk_Atendente.Value), \"N√£o atribu√≠do\", Usu√°riosdoOffice365.UserProfileV2(_t.Tk_Atendente.Value).displayName)\n    },\n\"\n<div style='width:100%; display:flex; flex-direction:column; background:#F9FAFB;\n             border:1px solid #E5E7EB; border-radius:12px;\n             padding:6px; margin-bottom:6px; font-family: Segoe UI, sans-serif;\n             box-sizing:border-box;'>\n\n  <!-- \n    LINHA 1: INFORMA√á√ïES PRINCIPAIS\n    - Agora √© um container flex com 4 colunas de largura percentual para garantir o alinhamento.\n  -->\n  <div style='display:flex; align-items:flex-start; width:100%; font-size:14px; gap:16px;'>\n    \n    <!-- Coluna 1: Ticket (25% da largura) -->\n    <div style='display:flex; align-items:center; gap:8px; width:25%;'>\n        <img src='data:image/svg+xml,\" & EncodeUrl(\"<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='#4B5563' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z'></path><polyline points='14 2 14 8 20 8'></polyline><line x1='16' y1='13' x2='8' y2='13'></line><line x1='16' y1='17' x2='8' y2='17'></line><polyline points='10 9 9 9 8 9'></polyline></svg>\") & \"' width='18' height='18' />\n        <div style='min-width:0;'>\n            <span style='color:#6B7280; font-size:12px;'>Ticket</span><br>\n            <div style='white-space:nowrap; overflow:hidden; text-overflow:ellipsis;'>\n              <strong style='color:#1F2937;'>\" & _t.Tk_TicketID & \" (\" & _t.Tk_Tipo_Ticket & \")</strong>\n            </div>\n        </div>\n    </div>\n\n    <!-- Coluna 2: Atendente (35% da largura) -->\n    <div style='display:flex; align-items:center; gap:8px; width:35%;'>\n        <img src='data:image/svg+xml,\" & EncodeUrl(\"<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='#4B5563' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'></path><circle cx='12' cy='7' r='4'></circle></svg>\") & \"' width='18' height='18' />\n        <div style='min-width:0;'>\n            <span style='color:#6B7280; font-size:12px;'>Atendente</span><br>\n            <div style='white-space:nowrap; overflow:hidden; text-overflow:ellipsis;'>\n              <strong style='color:#1F2937;'>\" & _atNome & \"</strong>\n            </div>\n        </div>\n    </div>\n\n    <!-- Coluna 3: Abertura (20% da largura) -->\n    <div style='display:flex; align-items:center; gap:8px; width:20%;'>\n        <img src='data:image/svg+xml,\" & EncodeUrl(\"<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='#4B5563' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><rect x='3' y='4' width='18' height='18' rx='2' ry='2'></rect><line x1='16' y1='2' x2='16' y2='6'></line><line x1='8' y1='2' x2='8' y2='6'></line><line x1='3' y1='10' x2='21' y2='10'></line></svg>\") & \"' width='18' height='18' />\n        <div>\n            <span style='color:#6B7280; font-size:12px;'>Abertura</span><br>\n            <strong style='color:#1F2937;'>\" & If(IsBlank(_t.Tk_Data_Abertura), \"-\", Text(_t.Tk_Data_Abertura, \"[$-pt-BR]dd/mm/yy\")) & \"</strong>\n        </div>\n    </div>\n\n    <!-- Coluna 4: Conclus√£o (20% da largura) -->\n    <div style='display:flex; align-items:center; gap:8px; width:20%;'>\n        <img src='data:image/svg+xml,\" & EncodeUrl(\"<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='#4B5563' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><rect x='3' y='4' width='18' height='18' rx='2' ry='2'></rect><line x1='16' y1='2' x2='16' y2='6'></line><line x1='8' y1='2' x2='8' y2='6'></line><line x1='3' y1='10' x2='21' y2='10'></line></svg>\") & \"' width='18' height='18' />\n        <div>\n            <span style='color:#6B7280; font-size:12px;'>Conclus√£o</span><br>\n            <strong style='color:#1F2937;'>\" & If(IsBlank(_dtConc), \"-\", Text(_dtConc, \"[$-pt-BR]dd/mm/yy\")) & \"</strong>\n        </div>\n    </div>\n\n  </div>\n\n  <!-- \n    LINHA 2: DESCRI√á√ÉO\n  -->\n  <div style='margin-top:6px; padding-top:6px; border-top:1px solid #E5E7EB; color:#4B5563; font-size:14px; line-height:1.5;'>\n    <strong style='color:#1F2937;'>Descri√ß√£o:</strong> \" & PlainText(_t.Tk_Descricao_Ocorrencia) & \"\n  </div>\n</div>\n\"\n))\n\n"
                                                PaddingBottom: =0
                                                PaddingLeft: =0
                                                PaddingRight: =0
                                                PaddingTop: =0
                                                Width: =Parent.Width
                                          - Button3_4:
                                              Control: Classic/Button@2.2.0
                                              Properties:
                                                BorderColor: =ColorFade(Self.Fill, -15%)
                                                BorderStyle: =BorderStyle.None
                                                Color: =RGBA(0, 0, 0, 0)
                                                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                                Fill: =RGBA(0, 0, 0, 0)
                                                Font: =Font.'Open Sans'
                                                Height: =HtmlText1.Height - 8
                                                HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                                                HoverColor: =RGBA(255, 255, 255, 1)
                                                HoverFill: =ColorFade(RGBA(166, 166, 166, 0.2), 20%)
                                                OnSelect: |
                                                  =UpdateContext({
                                                      NPSTicketTI: LookUp(db_nps_infra, ID_Referencia = ThisItem.ID_Referencia),
                                                      PesquisaSatisfacaoTI:true}
                                                  );
                                                PaddingBottom: =0
                                                PaddingLeft: =0
                                                PaddingRight: =0
                                                PaddingTop: =0
                                                PressedBorderColor: =Self.Fill
                                                PressedColor: =Self.Fill
                                                PressedFill: =Color.Transparent
                                                Text: =
                                                Width: =Parent.Width
      - Image_TI_back_3:
          Control: Image@2.2.3
          Properties:
            BorderColor: =RGBA(0, 0, 0, 0)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledFill: =RGBA(0, 0, 0, 0)
            Fill: =Color.Transparent
            FocusedBorderThickness: =0
            Height: =75
            HoverBorderColor: =
            HoverFill: =
            Image: |
              =With(
                {
                  SVG_Animado: "
              <svg xmlns='http://www.w3.org/2000/svg' width='100%' height='100%' viewBox='2.5 0 20 24' fill='#ffffff' customattr='" & varAnimarSVG & "'>
                <path
                  fill='#ffffff'
                  d='M14.008 17.692a.857.857 0 001.317-1.098L11.495 12l3.829-4.594a.857.857 0 00-1.317-1.098L9.73 11.44a.85.85 0 00-.208.56.854.854 0 00.208.56l4.277 5.132z'>
                  <animateTransform
                    attributeName='transform'
                    type='translate'
                    values='0 0; -2 0; 0 0'
                    keyTimes='0;0.5;1'
                    dur='1s'
                    repeatCount='1'
                    fill='freeze'
                    begin='0s'
                  />
                </path>
              </svg>
              "
                },
                "data:image/svg+xml;utf8," & EncodeUrl(SVG_Animado)
              )
            OnSelect: =Navigate(Home, Transition.Pop)
            PressedBorderColor: =
            PressedFill: =
            TabIndex: =1
            Width: =40
            X: =15
            Y: =16
      - Container1_1:
          Control: GroupContainer@1.3.0
          Variant: AutoLayout
          Properties:
            BorderStyle: =BorderStyle.None
            DropShadow: =DropShadow.None
            Fill: =RGBA(240, 240, 240, 1)
            Height: =Parent.Height - Self.Y - 15
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =10
            LayoutJustifyContent: =LayoutJustifyContent.Center
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Visible: =PesquisaSatisfacaoTI
            Width: =Parent.Width - 16*2
            X: =Parent.Width/2 - Self.Width/2
            Y: =104
          Children:
            - Container5:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  BorderStyle: =BorderStyle.None
                  DropShadow: =DropShadow.None
                  FillPortions: =0
                  Height: =47*2+11
                  LayoutDirection: =LayoutDirection.Vertical
                  LayoutGap: =10
                  RadiusBottomLeft: =0
                  RadiusBottomRight: =0
                  RadiusTopLeft: =0
                  RadiusTopRight: =0
                Children:
                  - Container3_4:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        Height: =47
                        LayoutDirection: =LayoutDirection.Horizontal
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        PaddingBottom: =1
                        PaddingTop: =1
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                      Children:
                        - ctn_ti_div_9:
                            Control: GroupContainer@1.3.0
                            Variant: ManualLayout
                            Properties:
                              AlignInContainer: =AlignInContainer.SetByContainer
                              DropShadow: =DropShadow.None
                              Height: =45
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                        - Container2_4:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              AlignInContainer: =AlignInContainer.SetByContainer
                              Fill: =RGBA(255, 255, 255, 1)
                              FillPortions: =0
                              Height: =45
                              LayoutAlignItems: =LayoutAlignItems.Center
                              LayoutDirection: =LayoutDirection.Horizontal
                              LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                              LayoutMinHeight: =40
                              RadiusBottomLeft: =5
                              RadiusBottomRight: =5
                              RadiusTopLeft: =5
                              RadiusTopRight: =5
                              Width: =Parent.Width/4
                            Children:
                              - lbl_TI_Chamados_8:
                                  Control: Label@2.5.1
                                  Properties:
                                    Align: =Align.Center
                                    AutoHeight: =true
                                    BorderColor: =RGBA(45, 65, 93, 1)
                                    FillPortions: =2
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    Size: =12
                                    Text: =LookUp(colTiposRequisicaoTI, Tipo_Ticket = LookUp(col_db_tickets_infra, Tk_Ticket = NPSTicketTI.Tk_TicketID, Tk_Tipo_Ticket), Requisicao)
                                    Underline: =true
                        - ctn_ti_div_10:
                            Control: GroupContainer@1.3.0
                            Variant: ManualLayout
                            Properties:
                              AlignInContainer: =AlignInContainer.SetByContainer
                              DropShadow: =DropShadow.None
                              Height: =45
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                  - Container3_2:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        Height: =47
                        LayoutDirection: =LayoutDirection.Horizontal
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        PaddingBottom: =1
                        PaddingTop: =1
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                      Children:
                        - ctn_ti_div_5:
                            Control: GroupContainer@1.3.0
                            Variant: ManualLayout
                            Properties:
                              AlignInContainer: =AlignInContainer.SetByContainer
                              DropShadow: =DropShadow.None
                              Height: =45
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                        - Container2_2:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              AlignInContainer: =AlignInContainer.SetByContainer
                              Fill: =RGBA(255, 255, 255, 1)
                              FillPortions: =0
                              Height: =45
                              LayoutAlignItems: =LayoutAlignItems.Center
                              LayoutDirection: =LayoutDirection.Horizontal
                              LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                              LayoutMinHeight: =40
                              RadiusBottomLeft: =5
                              RadiusBottomRight: =5
                              RadiusTopLeft: =5
                              RadiusTopRight: =5
                              Width: =Parent.Width/4
                            Children:
                              - lbl_TI_Chamados_4:
                                  Control: Label@2.5.1
                                  Properties:
                                    Align: =Align.Center
                                    AutoHeight: =true
                                    BorderColor: =RGBA(45, 65, 93, 1)
                                    FillPortions: =1
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    Size: =12
                                    Text: |-
                                      ="TICKET: " & NPSTicketTI.Tk_TicketID
                              - ctn_div_2:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    AlignInContainer: =AlignInContainer.Center
                                    Fill: =RGBA(240, 240, 240, 1)
                                    FillPortions: =0
                                    Height: =30
                                    Width: =1
                              - lbl_TI_Chamados_6:
                                  Control: Label@2.5.1
                                  Properties:
                                    Align: =Align.Center
                                    AutoHeight: =true
                                    BorderColor: =RGBA(45, 65, 93, 1)
                                    FillPortions: =1
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    Size: =12
                                    Text: |-
                                      ="ATENDENTE: " & Char(13) & If(IsBlank(LookUp(col_db_tickets_infra, Tk_Ticket = NPSTicketTI.Tk_TicketID, Tk_Atendente.Value)), "N√£o atribu√≠do", Usu√°riosdoOffice365.UserProfileV2(LookUp(col_db_tickets_infra, Tk_Ticket = NPSTicketTI.Tk_TicketID, Tk_Atendente.Value)).displayName)
                        - ctn_ti_div_6:
                            Control: GroupContainer@1.3.0
                            Variant: ManualLayout
                            Properties:
                              AlignInContainer: =AlignInContainer.SetByContainer
                              DropShadow: =DropShadow.None
                              Height: =45
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
            - Container6_1:
                Control: GroupContainer@1.3.0
                Variant: ManualLayout
                Properties:
                  AlignInContainer: =AlignInContainer.Center
                  Fill: =RGBA(255, 255, 255, 0.2)
                  FillPortions: =0
                  Height: =250
                  RadiusBottomLeft: =5
                  RadiusBottomRight: =5
                  RadiusTopLeft: =5
                  RadiusTopRight: =5
                  Width: =Parent.Width/4 - 10
                Children:
                  - Form_TI_NPS_Chamados:
                      Control: Form@2.4.4
                      Variant: Classic
                      Layout: Vertical
                      Properties:
                        BorderColor: =RGBA(45, 65, 93, 1)
                        DataSource: =db_nps_infra
                        DefaultMode: =If(!IsBlank(NPSTicketTI), FormMode.Edit, FormMode.New)
                        Height: =220
                        Item: =NPSTicketTI
                        NumberOfColumns: =12
                        OnSuccess: |-
                          =// Carrega lista db_nps_infra do SharePoint em lotes
                          Set(VarLote, 1000);
                          Set(PrimeiraLinha, First(SortByColumns(db_nps_infra, "ID_Referencia", SortOrder.Ascending)).ID_Referencia);
                          Set(UltimaLinha, First(SortByColumns(db_nps_infra, "ID_Referencia", SortOrder.Descending)).ID_Referencia);
                          Set(QtdLotes, RoundUp((UltimaLinha - PrimeiraLinha + 1) / VarLote, 0));
                          ClearCollect(SeqLotes, Sequence(QtdLotes, 0));
                          ClearCollect(col_db_nps_infra, Filter(db_nps_infra, false));

                          ForAll(
                              SeqLotes As item,
                              With(
                                  {
                                      limInf: item.Value * VarLote + PrimeiraLinha,
                                      limSup: (item.Value + 1) * VarLote + PrimeiraLinha - 1
                                  },
                                  Collect(
                                      col_db_nps_infra,
                                      Filter(
                                      db_nps_infra,
                                      ID_Referencia >= limInf && ID_Referencia <= limSup,
                                      Tk_Solicitante = VarUsuario.Email
                                      )
                                  )
                              )
                          );

                          Notify("üéâ Obrigado por responder √† nossa pesquisa de satisfa√ß√£o! Sua avalia√ß√£o √© muito importante para n√≥s.", NotificationType.Success, 3000);

                          UpdateContext({
                              NPSTicketTI: Blank(),
                              PesquisaSatisfacaoTI: false
                              }
                          );
                          ResetForm(Form_TI_NPS_Chamados);
                          EditForm(Form_TI_NPS_Chamados);
                        Width: =Parent.Width
                        Y: =Parent.Height/2 - Self.Height/2
                      Children:
                        - NPS_Solucao_DataCard2:
                            Control: TypedDataCard@1.0.7
                            Variant: ClassicAllowedValuesStringEdit
                            IsLocked: true
                            Properties:
                              AllowedValues: =DataSourceInfo([@db_nps_infra], DataSourceInfo.AllowedValues, NPS_Solucao)
                              BorderColor: =RGBA(45, 65, 93, 1)
                              DataField: ="NPS_Solucao"
                              Default: =ThisItem.NPS_Solucao
                              DisplayName: =DataSourceInfo([@db_nps_infra],DataSourceInfo.DisplayName,NPS_Solucao)
                              Required: =true
                              Update: =DataCardValue24.Selected.Value
                              Width: =Parent.Width
                              X: =0
                              Y: =0
                            Children:
                              - DataCardKey24:
                                  Control: Label@2.5.1
                                  MetadataKey: FieldName
                                  Properties:
                                    Align: =Align.Center
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Color: =RGBA(45, 65, 93, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =34
                                    Size: =11
                                    Text: ="SOLU√á√ÉO"
                                    Width: =Parent.Width - 20
                                    Wrap: =false
                                    X: =10
                              - Container7_1:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    Height: =30
                                    RadiusBottomLeft: =5
                                    RadiusBottomRight: =5
                                    RadiusTopLeft: =5
                                    RadiusTopRight: =5
                                    Width: |
                                      =Parent.Width - 20
                                    X: =10
                                    Y: =DataCardKey25.Y + DataCardKey25.Height + 5
                                  Children:
                                    - DataCardValue24:
                                        Control: Classic/ComboBox@2.4.0
                                        Properties:
                                          BorderColor: =If(IsBlank(SP_Resumo_Problema_DataCard1.Error), SP_Resumo_Problema_DataCard1.BorderColor, Color.Red)
                                          BorderStyle: =BorderStyle.None
                                          BorderThickness: =0
                                          ChevronBackground: =RGBA(45, 65, 93, 1)
                                          ChevronFill: =RGBA(255, 255, 255, 1)
                                          ChevronHoverBackground: =ColorFade(RGBA(45, 65, 93, 1), -20%)
                                          ChevronHoverFill: =RGBA(255, 255, 255, 1)
                                          DefaultSelectedItems: =SP_Resumo_Problema_DataCard1.Default
                                          DisplayFields: =["Value"]
                                          DisplayMode: =Parent.DisplayMode
                                          FocusedBorderThickness: =1
                                          Font: =Font.'Open Sans'
                                          Height: =30
                                          HoverFill: =RGBA(186, 202, 226, 1)
                                          InputTextPlaceholder: ="Selecione o n√≠vel de satisfa√ß√£o"
                                          Items: =["INSATISFEITO","ACEITAVEL","SATISFEITO"]
                                          PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                          PressedColor: =RGBA(255, 255, 255, 1)
                                          PressedFill: =RGBA(45, 65, 93, 1)
                                          SearchFields: =["Value"]
                                          SelectMultiple: =false
                                          SelectionColor: =RGBA(240, 240, 240, 1)
                                          SelectionFill: =RGBA(45, 65, 93, 1)
                                          Size: =11
                                          Width: =Parent.Width
                              - ErrorMessage24:
                                  Control: Label@2.5.1
                                  MetadataKey: ErrorMessage
                                  Properties:
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Color: =RGBA(168, 0, 0, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =10
                                    Live: =Live.Assertive
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: =Parent.Error
                                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                                    Width: |
                                      =Parent.Width - 20
                                    X: =10
                                    Y: =DataCardValue24.Y + DataCardValue24.Height
                              - StarVisible24:
                                  Control: Label@2.5.1
                                  MetadataKey: FieldRequired
                                  Properties:
                                    Align: =Align.Center
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Color: =RGBA(45, 65, 93, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =DataCardKey24.Height
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    Size: =11
                                    Text: ="*"
                                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                    Width: =10
                                    Wrap: =false
                                    Y: =DataCardKey24.Y
                        - NPS_Avaliacao_Atendimento_DataCard2:
                            Control: TypedDataCard@1.0.7
                            Variant: ClassicRatingEdit
                            IsLocked: true
                            Properties:
                              BorderColor: =RGBA(45, 65, 93, 1)
                              DataField: ="NPS_Avaliacao_Atendimento"
                              Default: =ThisItem.NPS_Avaliacao_Atendimento
                              DisplayName: =DataSourceInfo([@db_nps_infra],DataSourceInfo.DisplayName,NPS_Avaliacao_Atendimento)
                              Required: =true
                              Update: =DataCardValue26.Value
                              Width: =Parent.Width
                              X: =3
                              Y: =0
                            Children:
                              - DataCardKey26:
                                  Control: Label@2.5.1
                                  MetadataKey: FieldName
                                  Properties:
                                    Align: =Align.Center
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Color: =RGBA(45, 65, 93, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =34
                                    Size: =11
                                    Text: ="AVALIA√á√ÉO DA SOLU√á√ÉO"
                                    Width: =Parent.Width - 20
                                    Wrap: =false
                                    X: =10
                              - DataCardValue26:
                                  Control: Rating@2.1.0
                                  MetadataKey: FieldValue
                                  Properties:
                                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                    Default: =Parent.Default
                                    DisplayMode: =Parent.DisplayMode
                                    FocusedBorderThickness: =1
                                    Height: =28
                                    Max: =Parent.Max
                                    RatingFill: =RGBA(45, 65, 93, 1)
                                    Width: =Parent.Width - 60
                                    X: =30
                                    Y: =DataCardKey26.Y + DataCardKey26.Height + 5
                              - ErrorMessage26:
                                  Control: Label@2.5.1
                                  MetadataKey: ErrorMessage
                                  Properties:
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Color: =RGBA(168, 0, 0, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =10
                                    Live: =Live.Assertive
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: =Parent.Error
                                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                                    Width: |
                                      =Parent.Width - 20
                                    X: =10
                                    Y: =DataCardValue26.Y + DataCardValue26.Height
                              - StarVisible26:
                                  Control: Label@2.5.1
                                  MetadataKey: FieldRequired
                                  Properties:
                                    Align: =Align.Center
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Color: =RGBA(45, 65, 93, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =DataCardKey26.Height
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    Size: =11
                                    Text: ="*"
                                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                    Width: =10
                                    Wrap: =false
                                    Y: =DataCardKey26.Y
                        - NPS_Agilidade_DataCard2:
                            Control: TypedDataCard@1.0.7
                            Variant: ClassicRatingEdit
                            IsLocked: true
                            Properties:
                              BorderColor: =RGBA(45, 65, 93, 1)
                              DataField: ="NPS_Agilidade"
                              Default: =ThisItem.NPS_Agilidade
                              DisplayName: =DataSourceInfo([@db_nps_infra],DataSourceInfo.DisplayName,NPS_Agilidade)
                              Required: =true
                              Update: =DataCardValue28.Value
                              Width: =Parent.Width
                              X: =6
                              Y: =0
                            Children:
                              - DataCardKey28:
                                  Control: Label@2.5.1
                                  MetadataKey: FieldName
                                  Properties:
                                    Align: =Align.Center
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Color: =RGBA(45, 65, 93, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =34
                                    Size: =11
                                    Text: ="AGILIDADE"
                                    Width: =Parent.Width - 20
                                    Wrap: =false
                                    X: =10
                              - DataCardValue28:
                                  Control: Rating@2.1.0
                                  MetadataKey: FieldValue
                                  Properties:
                                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                    Default: =Parent.Default
                                    DisplayMode: =Parent.DisplayMode
                                    Height: =28
                                    Max: =Parent.Max
                                    RatingFill: =RGBA(45, 65, 93, 1)
                                    Width: =Parent.Width - 60
                                    X: =30
                                    Y: =DataCardKey28.Y + DataCardKey28.Height + 5
                              - ErrorMessage28:
                                  Control: Label@2.5.1
                                  MetadataKey: ErrorMessage
                                  Properties:
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Color: =RGBA(168, 0, 0, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =10
                                    Live: =Live.Assertive
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: =Parent.Error
                                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                                    Width: |
                                      =Parent.Width - 20
                                    X: =10
                                    Y: =DataCardValue28.Y + DataCardValue28.Height
                              - StarVisible28:
                                  Control: Label@2.5.1
                                  MetadataKey: FieldRequired
                                  Properties:
                                    Align: =Align.Center
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Color: =RGBA(45, 65, 93, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =DataCardKey28.Height
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    Size: =11
                                    Text: ="*"
                                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                    Width: =10
                                    Wrap: =false
                                    Y: =DataCardKey28.Y
                        - Tk_Status_NPS_DataCard1:
                            Control: TypedDataCard@1.0.7
                            Variant: ClassicTextualEdit
                            IsLocked: true
                            Properties:
                              BorderColor: =RGBA(45, 65, 93, 1)
                              DataField: ="Tk_Status_NPS"
                              Default: =ThisItem.Tk_Status_NPS
                              DisplayName: =DataSourceInfo([@db_nps_infra],DataSourceInfo.DisplayName,Tk_Status_NPS)
                              MaxLength: =DataSourceInfo([@db_nps_infra], DataSourceInfo.MaxLength, Tk_Status_NPS)
                              Required: =false
                              Update: =DataCardValue21.Text
                              Visible: =false
                              Width: =Parent.Width
                              X: =9
                              Y: =0
                            Children:
                              - DataCardKey21:
                                  Control: Label@2.5.1
                                  MetadataKey: FieldName
                                  Properties:
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Color: =RGBA(45, 65, 93, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =34
                                    Size: =11
                                    Text: ="STATUS"
                                    Width: =Parent.Width - 20
                                    Wrap: =false
                                    X: =10
                              - DataCardValue21:
                                  Control: Classic/TextInput@2.3.2
                                  MetadataKey: FieldValue
                                  Properties:
                                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                    BorderStyle: =BorderStyle.None
                                    BorderThickness: =0
                                    Default: ="Pesquisa Conclu√≠da"
                                    DelayOutput: =true
                                    DisplayMode: =Parent.DisplayMode
                                    Font: =Font.'Open Sans'
                                    Height: =30
                                    HoverBorderColor: =RGBA(45, 65, 93, 1)
                                    HoverFill: =RGBA(186, 202, 226, 1)
                                    MaxLength: =Parent.MaxLength
                                    PaddingLeft: =5
                                    Size: =11
                                    TabIndex: =-2
                                    Width: |
                                      =Parent.Width - 20
                                    X: =10
                                    Y: =DataCardKey21.Y + DataCardKey21.Height + 5
                              - ErrorMessage21:
                                  Control: Label@2.5.1
                                  MetadataKey: ErrorMessage
                                  Properties:
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Color: =RGBA(168, 0, 0, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =10
                                    Live: =Live.Assertive
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: =Parent.Error
                                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                                    Width: |
                                      =Parent.Width - 20
                                    X: =10
                                    Y: =DataCardValue21.Y + DataCardValue21.Height
                              - StarVisible21:
                                  Control: Label@2.5.1
                                  MetadataKey: FieldRequired
                                  Properties:
                                    Align: =Align.Center
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Color: =RGBA(45, 65, 93, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =DataCardKey21.Height
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    Size: =11
                                    Text: ="*"
                                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                    Width: =10
                                    Wrap: =false
                                    Y: =DataCardKey21.Y
            - Container3_3:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  DropShadow: =DropShadow.None
                  FillPortions: =0
                  Height: =47
                  LayoutDirection: =LayoutDirection.Horizontal
                  LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                  PaddingBottom: =1
                  PaddingTop: =1
                  RadiusBottomLeft: =0
                  RadiusBottomRight: =0
                  RadiusTopLeft: =0
                  RadiusTopRight: =0
                Children:
                  - ctn_ti_div_7:
                      Control: GroupContainer@1.3.0
                      Variant: ManualLayout
                      Properties:
                        AlignInContainer: =AlignInContainer.Start
                        DropShadow: =DropShadow.None
                        Height: =45
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                  - Container2_3:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        AlignInContainer: =AlignInContainer.Center
                        Fill: =RGBA(255, 255, 255, 1)
                        FillPortions: =0
                        Height: =45
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutDirection: =LayoutDirection.Horizontal
                        LayoutGap: =10
                        LayoutJustifyContent: =LayoutJustifyContent.End
                        LayoutMinHeight: =40
                        PaddingRight: =10
                        RadiusBottomLeft: =5
                        RadiusBottomRight: =5
                        RadiusTopLeft: =5
                        RadiusTopRight: =5
                        Width: =Parent.Width/4
                      Children:
                        - Button2_1:
                            Control: Classic/Button@2.2.0
                            Properties:
                              BorderColor: =RGBA(45, 65, 93, 1)
                              BorderThickness: =1
                              Color: =RGBA(45, 65, 93, 1)
                              DisabledBorderColor: =RGBA(166, 166, 166, 1)
                              Fill: =RGBA(255, 255, 255, 1)
                              FocusedBorderThickness: =1
                              Font: =Font.'Open Sans'
                              Height: =30
                              HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                              HoverColor: =RGBA(255, 255, 255, 1)
                              HoverFill: =ColorFade(Self.Color, 20%)
                              OnSelect: |
                                =UpdateContext({
                                    NPSTicketTI: Blank(),
                                    PesquisaSatisfacaoTI: false
                                    }
                                );
                                ResetForm(Form_TI_NPS_Chamados);
                                EditForm(Form_TI_NPS_Chamados);
                              PressedBorderColor: =Self.Fill
                              PressedColor: =Self.Fill
                              PressedFill: =ColorFade(Self.Color, 10%)
                              Size: =12
                              Text: ="CANCELAR"
                              Width: =120
                        - Button3_1:
                            Control: Classic/Button@2.2.0
                            Properties:
                              BorderColor: =ColorFade(Self.Fill, -15%)
                              Color: =RGBA(255, 255, 255, 1)
                              DisabledBorderColor: =RGBA(166, 166, 166, 1)
                              Fill: =RGBA(45, 65, 93, 1)
                              FocusedBorderThickness: =1
                              Font: =Font.'Open Sans'
                              Height: =30
                              HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                              HoverColor: =RGBA(255, 255, 255, 1)
                              HoverFill: =ColorFade(Self.Fill, -20%)
                              OnSelect: |-
                                =If(
                                    !Form_TI_NPS_Chamados.Valid,
                                    Notify("Preencha todos os campos obrigat√≥rios",NotificationType.Warning,3000),
                                    SubmitForm(Form_TI_NPS_Chamados);
                                )
                              PressedBorderColor: =Self.Fill
                              PressedFill: =ColorFade(Self.Fill, 10%)
                              Size: =12
                              Text: ="RESPONDER PESQUISA"
                              Width: =200
                  - ctn_ti_div_8:
                      Control: GroupContainer@1.3.0
                      Variant: ManualLayout
                      Properties:
                        AlignInContainer: =AlignInContainer.Start
                        DropShadow: =DropShadow.None
                        Height: =45
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
